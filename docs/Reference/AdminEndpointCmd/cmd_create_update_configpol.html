<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2021"><meta name="generator" content="DITA-OT"><meta name="description" content=""><link rel="stylesheet" type="text/css" href="../../commonltr.css"><link rel="stylesheet" type="text/css" href="../../doc.css"><title>Create or update a configuration policy</title></head><body id="pdf_REST_create_update_configpol"><nav role="toc"><ul><li><a href="../../welcome.html">Welcome</a></li><li><a href="../../Overview/ov00000_.html">Eclipse Amlen</a><ul><li><a href="../../Overview/ov00000_.html">Product overview</a></li><li><a href="../../Planning/pl00001_.html">Planning</a></li><li><a href="../../QuickStartGuide/qsg10000.html">Installing Eclipse Amlen  </a></li><li><a href="../../Upgrading/up00001_.html">Upgrading</a></li><li><a href="../../Scenarios/sc00000_.html">End-to-end scenarios</a></li><li><a href="../../Administering/ad00000_.html">Administering</a></li><li><a href="../../AdministeringWebUI/ad00002_.html">Administering the Web UI</a></li><li><a href="../../Bridge/br00010.html">Configuring the Bridge</a></li><li><a href="../../Security/se00000_.html">Security</a></li><li><a href="../../Monitoring/admin00008_.html">Monitoring and reporting</a></li><li><a href="../../Backup/ba00000_.html">Backup and restore</a></li><li><a href="../../Troubleshooting/tr10000_.html">Troubleshooting</a></li><li><a href="../../Developing/develop_guide.html">Developing client applications</a></li><li><a href="../../Reference/re00000_.html">Reference</a><ul><li><a href="../../Reference/intro.html">REST API Reference</a><ul><li><a href="../../Reference/cmd_delete_config.html">Delete configuration objects</a></li><li><a href="../../Reference/cmd_show_config.html">Show configuration details of nameable configuration objects</a></li><li><a href="../../Reference/cmd_show_config_fix.html">Show configuration details of fixed-name configuration objects</a></li><li><a href="../../Reference/cmd_REST_file_put.html">Copy a file from the local machine to Eclipse Amlen  </a></li><li><a href="../../Reference/AdminEndpointCmd/adminendpoint.html">Admin endpoint REST Administration APIs</a><ul><li><a href="../../Reference/AdminEndpointCmd/cmd_update_adminendpoint.html">Update the admin endpoint</a></li><li class="active"><a href="../../Reference/AdminEndpointCmd/cmd_create_update_configpol.html">Create or update a configuration policy</a></li><li><a href="../../Reference/AdminEndpointCmd/cmd_set_superuserid.html">Set the admin superuser ID</a></li><li><a href="../../Reference/AdminEndpointCmd/cmd_set_superuserpw.html">Set the admin superuser password</a></li><li><a href="../../Reference/AdminEndpointCmd/cmd_show_superuserid.html">Show the admin superuser ID</a></li></ul></li><li><a href="../../Reference/ApplianceCmd/appliancesettingcommands.html">Server REST Administration APIs</a></li><li><a href="../../Reference/ClusterCmd/clustercommands.html">Cluster REST Administration APIs</a></li><li><a href="../../Reference/SecurityCmd/securitycommands.html">Security REST Administration APIs</a></li><li><a href="../../Reference/MsgHubCmd/messagehubcommands.html">Message hub REST Administration APIs</a></li><li><a href="../../Reference/QueueCmd/QueueCmd.html">Queue REST Administration APIs</a></li><li><a href="../../Reference/MQConnCmd/mqconnectivitycommands.html">MQ Connectivity  REST Administration APIs</a></li><li><a href="../../Reference/HACmd/HAcommands.html">High availability REST Administration APIs</a></li><li><a href="../../Reference/BackupCmd/backupandrestorecommands.html">Backup and restore commands</a></li><li><a href="../../Reference/MonitorCmd/monitoringandreportingcommands.html">REST Monitoring APIs</a></li><li><a href="../../Reference/XATranCmd/xatransactioncommands.html">XA transaction REST Administration APIs</a></li><li><a href="../../Reference/SNMPCmd/snmpcommands.html">SNMP REST Administration APIs</a></li><li><a href="../../Reference/ProtocolPluginCmd/ProtocolPluginCmd.html">Protocol plug-in REST Administration APIs</a></li><li><a href="../../Reference/SpecialCmd/spepcom.html">Special purpose REST Administration APIs</a></li></ul></li><li><a href="../../Reference/_Topics/sy10530_.html">Digital certificates</a></li><li><a href="../../Reference/_Topics/re00003_.html">Supported cipher lists</a></li><li><a href="../../Reference/_Topics/re00001_.html">Classless Inter-Domain Routing</a></li></ul></li><li><a href="../../glossary/glossary.html">Glossary</a></li></ul></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1">
<h1 class="title topictitle1" id="ariaid-title1">Create or update a configuration policy</h1>






<div class="body refbody"><p class="shortdesc"></p>
<section class="section"><h2 class="title sectiontitle">Purpose</h2>Creates or updates a configuration policy. Configuration policies define which users can perform which administrative and monitoring operations. </section>
<section class="section"><h2 class="title sectiontitle">URI</h2>

<p class="p">Use the <span class="ph">Eclipse Amlen</span> REST API POST method with the following <span class="ph">Eclipse Amlen</span> configuration URI:</p>
<p class="p"><code class="ph codeph">http://&lt;admin-endpoint-IP:Port&gt;/ima/v1/configuration/</code></p>
</section>
<section class="section"><h2 class="title sectiontitle">Object configuration data</h2><p class="p">Provide ConfigurationPolicy object configuration data in the payload of the POST method by using the following schema. <span class="keyword parmname">Content-type</span> is set to <kbd class="ph userinput">application/json</kbd>.   </p><pre class="pre codeblock"><code>
{    
  "ConfigurationPolicy": {
    "&lt;NameOfConfigurationPolicy&gt;": {
       "Description": "string",
       "ActionList": "string",
       "GroupID": "string",
       "ClientAddress": "string",
       "UserID": "string",
       "CommonNames": "string"
     }
   }
}</code></pre>Where:<dl class="dl">
      
        <dt class="dt dlterm"><var class="keyword varname">NameOfConfigurationPolicy</var></dt>
        <dd class="dd">Required.</dd>
        <dd class="dd ddexpand">Specifies the name of the configuration policy.</dd>
        <dd class="dd ddexpand">The name must not have leading or trailing spaces and cannot contain control characters, commas, double quotation marks, backslashes, or equal signs. The first character must not be a number or any of the following special characters: <p class="p"><code class="ph codeph">! # $ % &amp; ' ( ) * + - . / : ; &lt; &gt; ? @</code></p></dd>
        <dd class="dd ddexpand">After the configuration policy is created, you cannot change this name.</dd>
      
      
        <dt class="dt dlterm">Description</dt>
        <dd class="dd">Optional.</dd>
        <dd class="dd ddexpand">Specifies a description for the configuration policy.</dd>
        <dd class="dd ddexpand">If you do not want a description, omit <code class="ph codeph">"Description":"<var class="keyword varname">description</var>"</code>.</dd>
      
      
        <dt class="dt dlterm">ActionList</dt>
        <dd class="dd">Required if you are creating a configuration policy.</dd>
        <dd class="dd ddexpand">Specifies the level of authority that is granted to the user, or users, authorized by the configuration policy to perform administrative or monitoring tasks. You must specify at least one of the following levels of authority:<ul class="ul">
          <li class="li"><strong class="ph b">Configure</strong><p class="p">Grants authority to modify the server configuration.</p></li>
          <li class="li"><strong class="ph b">View</strong><p class="p">Grants authority to view the server configuration.</p></li>
          <li class="li"><strong class="ph b">Monitor</strong><p class="p">Grants authority to view monitoring data.</p></li>
          <li class="li"><strong class="ph b">Manage</strong><p class="p">Grants authority to issue service requests, such as restarting the server</p></li>
          </ul></dd>
        <dd class="dd ddexpand"></dd>
      
      </dl>You must specify at least one of the following filters:<dl class="dl">
      
        <dt class="dt dlterm">ClientAddress</dt>
        <dd class="dd">Specifies the client IP addresses that are allowed to connect to <span class="ph">Eclipse Amlen</span>.</dd>
        <dd class="dd ddexpand">The IP address can contain an asterisk (*), or a comma-separated list of IPv4 or IPv6 addresses or ranges. For example, 192.0.2.32, 192.0.0.0, 192.0.2.0-192.0.2.100. The range must be specified from low to high.</dd>
        <dd class="dd ddexpand">However, each IPv6 address must be enclosed in brackets <code class="ph codeph">[ ]</code> either when expressed singly or in a range of addresses. IPv6 addresses cannot contain asterisks.</dd>
        <dd class="dd ddexpand">The maximum number of client addresses that you can specify is 20.</dd>
        <dd class="dd ddexpand">To use the default value, where all client IP addresses are allowed to connect, omit <code class="ph codeph">"ClientAddress":"<em class="ph i">IP_Address</em>"</code> or specify <code class="ph codeph">"ClientAddress":"<em class="ph i">*</em>"</code>.</dd>
      
      
        <dt class="dt dlterm">UserID</dt>
        <dd class="dd">Specifies the messaging user ID that is allowed to connect to <span class="ph">Eclipse Amlen</span>.</dd>
        <dd class="dd ddexpand">You can use an asterisk (*) at the end of the value to match 0 or more characters.</dd>
        <dd class="dd ddexpand">To use the default value, where all user ID values are allowed to connect, omit <code class="ph codeph">"UserID": "<em class="ph i">UserID</em>"</code>.</dd>
      
      
        <dt class="dt dlterm">GroupID</dt>
        <dd class="dd">Specifies the messaging group that is allowed to connect to <span class="ph">Eclipse Amlen</span>.</dd>
        <dd class="dd ddexpand">You can use an asterisk (*) at the end of the value to match 0 or more characters.</dd>
        <dd class="dd ddexpand">To use the default value, where all user ID values are allowed to connect, omit <code class="ph codeph">"GroupID":"<var class="keyword varname">GroupID</var>"</code>.</dd>
      
      
        <dt class="dt dlterm">CommonNames</dt>
        <dd class="dd">Specifies the client certificate common name that must be used to connect to <span class="ph">Eclipse Amlen</span>.</dd>
        <dd class="dd ddexpand">You can use an asterisk (*) at the end of the value to match 0 or more characters.</dd>
        <dd class="dd ddexpand">To use the default value, where all user ID values are allowed to connect, omit <code class="ph codeph">"CommonNames": "<var class="keyword varname">CommonNames</var>"</code>. </dd>
      
      </dl></section>
    <section class="section"><h2 class="title sectiontitle">Usage Notes®</h2>
      
      <ul class="ul">
        <li class="li">Capitalization and double quotation marks must be used as shown.</li>
      </ul>
    </section>
<section class="section"><h2 class="title sectiontitle">Related <span class="ph">REST Administration APIs</span></h2>

<ul class="ul">
<li class="li"><a class="xref" href="cmd_update_adminendpoint.html">Update the admin endpoint</a></li>
</ul>
</section>
<section class="section"><h2 class="title sectiontitle">Example</h2>Creates a configuration policy called "MyConfigurationPolicy" by using cURL:<pre class="pre codeblock"><code>
curl -X POST  \
   -H 'Content-Type: application/json'  \
   -d  '{    
         "ConfigurationPolicy": {       
           "MyConfigurationPolicy": {
             "Description": "Demonstration configuration policy ",            
             "ActionList":  "Configure,View,Monitor,Manage",
             "GroupID": "Group1",
             "ClientAddress": "9.3.179.*",            
             "UserID": "IMAUser"
            }
          }
        }
      '  \
http://127.0.0.1:9089/ima/v1/configuration/</code></pre><div class="p">An example response to the POST method:<pre class="pre codeblock"><code>
{        
  "Version": "v1",
  "Code": "CWLNA6011",
  "Message": "The requested configuration change has completed successfully."
}
</code></pre></div></section>
</div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../Reference/AdminEndpointCmd/adminendpoint.html" title="The admin endpoint REST Administration APIs allow you to configure and display admin endpoint,configuration policy, and admin superuser ID settings. You can also set the admin superuser password.">Admin endpoint REST Administration APIs</a></div></div></nav></article></main></body></html>