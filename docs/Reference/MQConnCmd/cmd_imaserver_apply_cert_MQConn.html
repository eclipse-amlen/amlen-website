<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2022"><meta name="generator" content="DITA-OT"><link rel="stylesheet" type="text/css" href="../../commonltr.css"><link rel="stylesheet" type="text/css" href="../../doc.css"><title>Create or update an MQ SSL Certificate</title></head><body id="cmd_imaserver_apply_cert"><nav role="toc"><ul><li><a href="../../welcome.html">Welcome</a></li><li><a href="../../eclipse_amlen.html">Eclipse Amlen</a><ul><li><a href="../../Overview/ov00000_.html">Product overview</a></li><li><a href="../../Planning/pl00001_.html">Planning</a></li><li><a href="../../QuickStartGuide/qsg10000.html">Installing Eclipse Amlen  </a></li><li><a href="../../Upgrading/up00001_.html">Upgrading</a></li><li><a href="../../Scenarios/sc00000_.html">End-to-end scenarios</a></li><li><a href="../../Administering/ad00000_.html">Administering</a></li><li><a href="../../AdministeringWebUI/ad00002_.html">Administering the Web UI</a></li><li><a href="../../Bridge/br00010.html">Configuring the Bridge</a></li><li><a href="../../Security/se00000_.html">Security</a></li><li><a href="../../Monitoring/admin00008_.html">Monitoring and reporting</a></li><li><a href="../../Backup/ba00000_.html">Backup and restore</a></li><li><a href="../../Troubleshooting/tr10000_.html">Troubleshooting</a></li><li><a href="../../Developing/develop_guide.html">Developing client applications</a></li><li><a href="../../Reference/re00000_.html">Reference</a><ul><li><a href="../../Reference/intro.html">REST API Reference</a><ul><li><a href="../../Reference/cmd_delete_config.html">Delete configuration objects</a></li><li><a href="../../Reference/cmd_show_config.html">Show configuration details of nameable configuration objects</a></li><li><a href="../../Reference/cmd_show_config_fix.html">Show configuration details of fixed-name configuration objects</a></li><li><a href="../../Reference/cmd_REST_file_put.html">Copy a file from the local machine to Eclipse Amlen  </a></li><li><a href="../../Reference/AdminEndpointCmd/adminendpoint.html">Admin endpoint REST Administration APIs</a></li><li><a href="../../Reference/ApplianceCmd/appliancesettingcommands.html">Server REST Administration APIs</a></li><li><a href="../../Reference/ClusterCmd/clustercommands.html">Cluster REST Administration APIs</a></li><li><a href="../../Reference/SecurityCmd/securitycommands.html">Security REST Administration APIs</a></li><li><a href="../../Reference/MsgHubCmd/messagehubcommands.html">Message hub REST Administration APIs</a></li><li><a href="../../Reference/QueueCmd/QueueCmd.html">Queue REST Administration APIs</a></li><li><a href="../../Reference/MQConnCmd/mqconnectivitycommands.html">MQ Connectivity  REST Administration APIs</a><ul><li><a href="../../Reference/MQConnCmd/cmd_create_update_dmr.html">Create or update a destination mapping rule</a></li><li><a href="../../Reference/MQConnCmd/cmd_create_update_qmc.html">Create or update a queue manager connection</a></li><li class="active"><a href="../../Reference/MQConnCmd/cmd_imaserver_apply_cert_MQConn.html">Create or update an MQ SSL Certificate</a></li><li><a href="../../Reference/MQConnCmd/cmd_imaserver_show_dmr.html">Show configuration details of a destination mapping rule</a></li><li><a href="../../Reference/MQConnCmd/cmd_show_mqsslcert.html">Show configuration details of an MQ SSL certificate</a></li><li><a href="../../Reference/MQConnCmd/cmd_imaserver_show_qmc.html">Show configuration details of a queue manager connection</a></li><li><a href="../../Reference/MQConnCmd/cmd_imaserver_enable_mqconn.html">Enable MQ connectivity </a></li><li><a href="../../Reference/MQConnCmd/cmd_imaserver_disable_mqconn.html">Disable MQ connectivity </a></li><li><a href="../../Reference/MQConnCmd/cmd_imaserver_start_mqconn.html">Start MQ connectivity </a></li><li><a href="../../Reference/MQConnCmd/cmd_imaserver_restart_mqconn.html">Restart MQ connectivity </a></li><li><a href="../../Reference/MQConnCmd/cmd_imaserver_stop_mqconn.html">Stop MQ connectivity</a></li><li><a href="../../Reference/MQConnCmd/cmd_status_mqconnectivity.html">Show MQConnectivity status</a></li></ul></li><li><a href="../../Reference/HACmd/HAcommands.html">High availability REST Administration APIs</a></li><li><a href="../../Reference/BackupCmd/backupandrestorecommands.html">Backup and restore commands</a></li><li><a href="../../Reference/MonitorCmd/monitoringandreportingcommands.html">REST Monitoring APIs</a></li><li><a href="../../Reference/XATranCmd/xatransactioncommands.html">XA transaction REST Administration APIs</a></li><li><a href="../../Reference/SNMPCmd/snmpcommands.html">SNMP REST Administration APIs</a></li><li><a href="../../Reference/ProtocolPluginCmd/ProtocolPluginCmd.html">Protocol plug-in REST Administration APIs</a></li><li><a href="../../Reference/SpecialCmd/spepcom.html">Special purpose REST Administration APIs</a></li></ul></li><li><a href="../../Reference/_Topics/sy10530_.html">Digital certificates</a></li><li><a href="../../Reference/_Topics/re00003_.html">Supported cipher lists</a></li><li><a href="../../Reference/_Topics/re00001_.html">Classless Inter-Domain Routing</a></li></ul></li><li><a href="../../glossary/glossary.html">Glossary</a></li></ul></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1">
<h1 class="title topictitle1" id="ariaid-title1">Create or update an MQ SSL Certificate</h1>
<div class="body refbody">
<section class="section"><h2 class="title sectiontitle">Purpose</h2>Create or update the MQ SSL certificate. Before the MQ SSL
certificate can be created, the <span class="ph">MQ Connectivity</span> key
database file and stash password file must be copied to <span class="ph">Eclipse Amlen</span>. The <span class="ph">MQ Connectivity</span> key database file and stash password file
are used to secure connections between <span class="ph">IBM® MQ</span> and
<span class="ph">Eclipse Amlen</span>.</section>
<section class="section"><h2 class="title sectiontitle">URI</h2>

<p class="p">Use the <span class="ph">Eclipse Amlen</span> REST API POST method with the
following <span class="ph">Eclipse Amlen</span> configuration URI:</p>
<p class="p"><code class="ph codeph">http://&lt;admin-endpoint-IP:Port&gt;/ima/v1/configuration/</code></p>
</section>
<section class="section"><h2 class="title sectiontitle">Object configuration data</h2><p class="p">Provide object configuration data in the payload
        of the POST method by using the following schema. <span class="keyword parmname">Content-type</span> is set
        to <kbd class="ph userinput">application/json</kbd>: </p><pre class="pre codeblock"><code>
{    
  "MQCertificate": {"MQSSLKey":"string","MQStashPassword":"string", "Overwrite": true|false}
}</code></pre>Where:<dl class="dl">
        
          <dt class="dt dlterm"><var class="keyword varname">MQSSLKey</var></dt>
        <dd class="dd">Required if you are creating the MQ SSL certificate.</dd>
          <dd class="dd ddexpand">Specifies the name of the key database file.</dd>
        
        
          <dt class="dt dlterm"><var class="keyword varname">MQStashPassword</var></dt>
        <dd class="dd">Required if you are creating the MQ SSL certificate.</dd>
          <dd class="dd ddexpand">Specifies the name of the password stash file.</dd>
        
        
          <dt class="dt dlterm">Overwrite: true|false</dt>
          <dd class="dd">Specifies whether an existing certificate and key are overwritten if they have the
            same name.</dd>
          <dd class="dd ddexpand">The default value is false which means that an existing key database file and password
            stash file are not overwritten if they have the same name.</dd>
        
      </dl></section>
<section class="section"><h2 class="title sectiontitle">Usage Notes®</h2><ul class="ul">
<li class="li">You must copy the key database file and stash password file to the server before you can apply
          them to <span class="ph">Eclipse Amlen</span>. You can copy the files by
          using the <span class="ph">Eclipse Amlen</span> REST API PUT method.</li>
<li class="li">You can copy only one key database file and one stash password file. If you want to use another
          file, you must overwrite the existing file.</li>
<li class="li">To use the new or updated MQ SSL certificate, restart the <span class="ph">MQ Connectivity</span> process.</li>
</ul></section>
<section class="section"><h2 class="title sectiontitle">Related Commands</h2><ul class="ul">
<li class="li"><a class="xref" href="cmd_imaserver_restart_mqconn.html">Restart MQ connectivity</a></li>
        <li class="li"><a class="xref" href="cmd_show_mqsslcert.html">Show configuration details of an MQ SSL certificate</a></li>
</ul></section>
<section class="section"><h2 class="title sectiontitle">Example</h2>
      <p class="p">Creates an MQ SSL certificate. The MQ key database file that is being used is called <span class="ph filepath">MyMQSSLKeyfile_201603016.kdb</span>. The stash password file that is being used is called <span class="ph filepath">MyMQStashPasswordFile_201603016.sth</span>. </p><pre class="pre codeblock"><code>
curl -X POST \
  -H 'Content-Type: application/json'  \
  -d '{
       "MQCertificate":{
         "MQSSLKey": "MyMQSSLKeyfile_201603016.kdb",
         "MQStashPassword": "MyMQStashPasswordFile_201603016.sth"
       }
     }
  ' \
http://127.0.0.1:9089/ima/v1/configuration</code></pre></section>
</div>

<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../Reference/MQConnCmd/mqconnectivitycommands.html" title="The MQ Connectivity REST Administration APIs allow you to configure MQ Connectivity. You can create, edit, view, and delete destination mapping rules and queue manager connections. You can enable and disable MQ Connectivity. You can start, restart and stop the MQ Connectivity process.">MQ Connectivity REST Administration APIs</a></div></div></nav></article></main></body></html>