<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2021"><meta name="generator" content="DITA-OT"><meta name="description" content=""><link rel="stylesheet" type="text/css" href="../../commonltr.css"><link rel="stylesheet" type="text/css" href="../../doc.css"><title>Create or update a client certificate</title></head><body id="cmd_create_update_clientcert"><nav role="toc"><ul><li><a href="../../welcome.html">Welcome</a></li><li><a href="../../Overview/ov00000_.html">Eclipse Amlen</a><ul><li><a href="../../Overview/ov00000_.html">Product overview</a></li><li><a href="../../Planning/pl00001_.html">Planning</a></li><li><a href="../../QuickStartGuide/qsg10000.html">Installing Eclipse Amlen  </a></li><li><a href="../../Upgrading/up00001_.html">Upgrading</a></li><li><a href="../../Scenarios/sc00000_.html">End-to-end scenarios</a></li><li><a href="../../Administering/ad00000_.html">Administering</a></li><li><a href="../../AdministeringWebUI/ad00002_.html">Administering the Web UI</a></li><li><a href="../../Bridge/br00010.html">Configuring the Bridge</a></li><li><a href="../../Security/se00000_.html">Security</a></li><li><a href="../../Monitoring/admin00008_.html">Monitoring and reporting</a></li><li><a href="../../Backup/ba00000_.html">Backup and restore</a></li><li><a href="../../Troubleshooting/tr10000_.html">Troubleshooting</a></li><li><a href="../../Developing/develop_guide.html">Developing client applications</a></li><li><a href="../../Reference/re00000_.html">Reference</a><ul><li><a href="../../Reference/intro.html">REST API Reference</a><ul><li><a href="../../Reference/cmd_delete_config.html">Delete configuration objects</a></li><li><a href="../../Reference/cmd_show_config.html">Show configuration details of nameable configuration objects</a></li><li><a href="../../Reference/cmd_show_config_fix.html">Show configuration details of fixed-name configuration objects</a></li><li><a href="../../Reference/cmd_REST_file_put.html">Copy a file from the local machine to Eclipse Amlen  </a></li><li><a href="../../Reference/AdminEndpointCmd/adminendpoint.html">Admin endpoint REST Administration APIs</a></li><li><a href="../../Reference/ApplianceCmd/appliancesettingcommands.html">Server REST Administration APIs</a></li><li><a href="../../Reference/ClusterCmd/clustercommands.html">Cluster REST Administration APIs</a></li><li><a href="../../Reference/SecurityCmd/securitycommands.html">Security REST Administration APIs</a><ul><li><a href="../../Reference/SecurityCmd/cmd_imaserver_close_connection.html">Close a client connection</a></li><li><a href="../../Reference/SecurityCmd/cmd_create_update_cprofile.html">Create or update a certificate profile</a></li><li class="active"><a href="../../Reference/SecurityCmd/cmd_create_update_clientcert.html">Create or update a client certificate</a></li><li><a href="../../Reference/SecurityCmd/cmd_create_update_ltpa.html">Create or update an LTPA profile</a></li><li><a href="../../Reference/SecurityCmd/cmd_create_update_LDAP.html">Create or update an LDAP server connection</a></li><li><a href="../../Reference/SecurityCmd/cmd_imaserver_show_LDAP.html">Show configuration details of an LDAP object</a></li><li><a href="../../Reference/SecurityCmd/cmd_create_update_oauth.html">Create or update an OAuth profile</a></li><li><a href="../../Reference/SecurityCmd/cmd_create_update_sprofile.html">Create or update a security profile</a></li><li><a href="../../Reference/SecurityCmd/cmd_create_update_tcert.html">Create or update a trusted certificate</a></li><li><a href="../../Reference/SecurityCmd/cmd_apply_psk.html">Upload a pre-shared key file</a></li><li><a href="../../Reference/SecurityCmd/cmd_create_update_psk.html">Apply a pre-shared key file</a></li><li><a href="../../Reference/SecurityCmd/cmd_view_psk.html">Show a pre-shared key file configuration</a></li><li><a href="../../Reference/SecurityCmd/cmd_delete_psk.html">Removing the configuration of a pre-shared key </a></li><li><a href="../../Reference/SecurityCmd/cmd_enable_disable_FIPS.html">Enable and disable FIPS</a></li></ul></li><li><a href="../../Reference/MsgHubCmd/messagehubcommands.html">Message hub REST Administration APIs</a></li><li><a href="../../Reference/QueueCmd/QueueCmd.html">Queue REST Administration APIs</a></li><li><a href="../../Reference/MQConnCmd/mqconnectivitycommands.html">MQ Connectivity  REST Administration APIs</a></li><li><a href="../../Reference/HACmd/HAcommands.html">High availability REST Administration APIs</a></li><li><a href="../../Reference/BackupCmd/backupandrestorecommands.html">Backup and restore commands</a></li><li><a href="../../Reference/MonitorCmd/monitoringandreportingcommands.html">REST Monitoring APIs</a></li><li><a href="../../Reference/XATranCmd/xatransactioncommands.html">XA transaction REST Administration APIs</a></li><li><a href="../../Reference/SNMPCmd/snmpcommands.html">SNMP REST Administration APIs</a></li><li><a href="../../Reference/ProtocolPluginCmd/ProtocolPluginCmd.html">Protocol plug-in REST Administration APIs</a></li><li><a href="../../Reference/SpecialCmd/spepcom.html">Special purpose REST Administration APIs</a></li></ul></li><li><a href="../../Reference/_Topics/sy10530_.html">Digital certificates</a></li><li><a href="../../Reference/_Topics/re00003_.html">Supported cipher lists</a></li><li><a href="../../Reference/_Topics/re00001_.html">Classless Inter-Domain Routing</a></li></ul></li><li><a href="../../glossary/glossary.html">Glossary</a></li></ul></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1">
<h1 class="title topictitle1" id="ariaid-title1">Create or update a client certificate</h1>







<div class="body refbody"><p class="shortdesc"></p>
<section class="section"><h2 class="title sectiontitle">Purpose</h2>

<p class="p">Creates a trusted client certificate in <span class="ph">Eclipse Amlen</span>.</p>
</section>
<section class="section"><h2 class="title sectiontitle">URI</h2>

<p class="p">Use the <span class="ph">Eclipse Amlen</span> REST API POST method with the following <span class="ph">Eclipse Amlen</span> configuration URI:</p>
<p class="p"><code class="ph codeph">http://&lt;admin-endpoint-IP:Port&gt;/ima/v1/configuration/</code></p>
</section>
<section class="section"><h2 class="title sectiontitle">Object configuration data</h2><p class="p">Provide ClientCertificate object configuration
        data in the payload of the POST method by using the following schema.
          <span class="keyword parmname">Content-type</span> is set to <kbd class="ph userinput">application/json</kbd>: </p><pre class="pre codeblock"><code>
{
"ClientCertificate":[{"SecurityProfileName":"string", "CertificateName": "string", "Overwrite": true|false }]
}
</code></pre>Where:<dl class="dl">
        
          <dt class="dt dlterm"><var class="keyword varname">CertificateName</var></dt>
          <dd class="dd">Required.</dd>
          <dd class="dd ddexpand">Specifies a value for the client certificate.</dd>
          <dd class="dd ddexpand">The name can be a maximum of 255 alphanumeric characters. </dd>
          <dd class="dd ddexpand">The name must not have leading or trailing spaces and cannot contain control
            characters, commas, double quotation marks, backslashes, or equal signs. The first
            character must not be a number. </dd>
          <dd class="dd ddexpand">After the profile is created, this name cannot be changed.</dd>
        
        
          <dt class="dt dlterm">SecurityProfileName</dt>
          <dd class="dd">Required if you are creating a client certificate.</dd>
          <dd class="dd ddexpand">Specifies the name of the security profile that the client certificate is associated
            with.</dd>
        
        
          <dt class="dt dlterm">Overwrite: true|false</dt>
          <dd class="dd">Specifies whether an existing certificate is overwritten if it has the same name.</dd>
          <dd class="dd ddexpand">The default value is false which means that an existing certificate is not overwritten
            if it has the same name.</dd>
        
      </dl></section>
<section class="section"><h2 class="title sectiontitle">Usage NotesÂ®</h2>

<ul class="ul">
<li class="li">You must copy the certificate to the server before you can apply it. <a class="xref" href="../cmd_REST_file_put.html">Copy a file from the local machine to Eclipse Amlen</a> to copy the certificate.</li>
<li class="li">The certificate must be a pem format certificate.</li>
<li class="li">You can upload a maximum of 100 trusted client certificates for every security profile.</li>
        <li class="li">Capitalization and double quotation marks must be used as shown.</li>
</ul>
</section>
<section class="section"><h2 class="title sectiontitle">Related <span class="ph">REST Administration APIs</span></h2>

<ul class="ul">
        <li class="li"><a class="xref" href="../../Administering/ad00722_.html" title="System administrators can copy a client certificate to be used in Eclipse Amlen by using the Eclipse Amlen REST API PUT method. The certificate is copied to /tmp/userfiles System administrators can then import the client certificate to the truststore of the certificate profile that is referenced in the security profile that is associated with the client certificate by using the Eclipse Amlen REST API POST method. Existing client certificates can also be updated by system administrators by using the Eclipse Amlen REST API POST method.">Creating and updating a client certificate by using REST Administration APIs</a></li>
<li class="li"><a class="xref" href="../cmd_REST_file_put.html">Copy a file from the local machine to Eclipse Amlen</a></li>
<li class="li"><a class="xref" href="cmd_create_update_cprofile.html">Create or update a certificate profile</a></li>
<li class="li"><a class="xref" href="cmd_create_update_sprofile.html">Create or update a security profile</a></li>
<li class="li"><a class="xref" href="../cmd_show_config.html">Show configuration details of nameable configuration objects</a></li>
<li class="li"><a class="xref" href="../cmd_delete_config.html">Delete configuration objects</a></li>
</ul>
</section>
<section class="section"><h2 class="title sectiontitle">Example</h2>The following example shows the steps required to create a client
      certificate by using cURL:<ol class="ol">
        <li class="li">Copy the client certificate by using the REST API PUT method:<pre class="pre codeblock"><code>
curl -X PUT -T imaCA-crt.pem  http://127.0.0.1:9089/ima/v1/file/TestCACertKey.pem</code></pre></li>
        <li class="li">Copy the certificate and key to create a CertificateProfile by using the REST API PUT method:<pre class="pre codeblock"><code>
curl -X PUT -T certFree.pem  http://127.0.0.1:9089/ima/v1/file/TestCert.pem
curl -X PUT -T keyFree.pem http://127.0.0.1:9089/ima/v1/file/TestKey.pem</code></pre></li>
        <li class="li">Create the CertificateProfile by using the REST API POST method:
          <pre class="pre codeblock"><code>
curl -X POST \
  -H 'Content-Type: application/json'  \
  -d '{
       "CertificateProfile":{
        "TestCertProf":{
         "Certificate": "TestCert.pem",
         "Key": "TestKey.pem"
       }
      }
     }
  ' \
http://127.0.0.1:9089/ima/v1/configuration</code></pre></li>
        <li class="li">Create the SecurityProfile by using the REST API POST method:
          <pre class="pre codeblock"><code>
curl -X POST 
  -H 'Content-Type: application/json'  \
  -d '{
       "SecurityProfile":{
        "TestSecProf":{
         "CertificateProfile": "TestCertProf",
         "UsePasswordAuthentication": false
       }
      }
     }
  ' \
http://127.0.0.1:9089/ima/v1/configuration</code></pre></li>
        <li class="li">Create the ClientCertificate by using the REST API POST method:
          <pre class="pre codeblock"><code>
curl -X POST 
  -H 'Content-Type: application/json'  \
  -d '{"ClientCertificate":[{
        "SecurityProfileName":"TestSecProf",
        "CertificateName": "TestCACertKey"
       }]
      }
  ' \
http://127.0.0.1:9089/ima/v1/configuration</code></pre></li>
      </ol></section>
</div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../Reference/SecurityCmd/securitycommands.html" title="The security REST Administration APIs allow you to configure security on Eclipse Amlen. You can import keys and certificates to secure connections to the system, and enable or disable FIPS-compliant security.">Security REST Administration APIs</a></div></div></nav></article></main></body></html>