<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2022"><meta name="generator" content="DITA-OT"><meta name="description" content="Key points to consider if you are planning to use clustering in your Eclipse Amlen solution."><link rel="stylesheet" type="text/css" href="../commonltr.css"><link rel="stylesheet" type="text/css" href="../doc.css"><title>Clustering considerations</title></head><body id="clusteringconsiderations"><nav role="toc"><ul><li><a href="../welcome.html">Welcome</a></li><li><a href="../Overview/ov00000_.html">Eclipse Amlen</a><ul><li><a href="../Overview/ov00000_.html">Product overview</a></li><li><a href="../Planning/pl00001_.html">Planning</a><ul><li><a href="../Planning/pl00030.html">Installation planning</a></li><li><a href="../Planning/ov00101_.html">Messaging patterns</a></li><li><a href="../Planning/pl00010.html">Messaging planning</a></li><li class="active"><a href="../Planning/clusteringconsiderations.html">Clustering considerations</a><ul><li><a href="../Planning/clusteringsubscriptionvis.html">Clustering: In a request-response model</a></li><li><a href="../Planning/clusteringretainedmsgs.html">Clustering: Retained messages</a></li><li><a href="../Planning/clusteringtimeserversynch.html">Clustering: Time server synchronization</a></li><li><a href="../Planning/clusteringmsgsbetweenservers.html">Clustering: Sending messages between cluster servers</a></li><li><a href="../Planning/clusteringmessageorder.html">Clustering: Message ordering</a></li><li><a href="../Planning/clusteringmsgpolicyconsiderations.html">Clustering: Max Messages Behavior</a></li><li><a href="../Planning/clusteringclientstate.html">Clustering: Client state</a></li><li><a href="../Planning/clusteringomping.html">Clustering: Testing multicast connectivity between servers in a cluster</a></li></ul></li><li><a href="../Planning/pl00002_.html">Capacity planning</a></li><li><a href="../Planning/pl00004.html">Performance planning</a></li><li><a href="../Planning/ov40001.html">High availability planning</a></li><li><a href="../Planning/pl00020.html">Connecting to an existing infrastructure</a></li></ul></li><li><a href="../QuickStartGuide/qsg10000.html">Installing Eclipse Amlen  </a></li><li><a href="../Upgrading/up00001_.html">Upgrading</a></li><li><a href="../Scenarios/sc00000_.html">End-to-end scenarios</a></li><li><a href="../Administering/ad00000_.html">Administering</a></li><li><a href="../AdministeringWebUI/ad00002_.html">Administering the Web UI</a></li><li><a href="../Bridge/br00010.html">Configuring the Bridge</a></li><li><a href="../Security/se00000_.html">Security</a></li><li><a href="../Monitoring/admin00008_.html">Monitoring and reporting</a></li><li><a href="../Backup/ba00000_.html">Backup and restore</a></li><li><a href="../Troubleshooting/tr10000_.html">Troubleshooting</a></li><li><a href="../Developing/develop_guide.html">Developing client applications</a></li><li><a href="../Reference/re00000_.html">Reference</a></li><li><a href="../glossary/glossary.html">Glossary</a></li></ul></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1">
<h1 class="title topictitle1" id="ariaid-title1">Clustering considerations</h1>




<div class="body conbody"><p class="shortdesc">Key points to consider if you are planning to use clustering in your <span class="ph">Eclipse Amlen</span> solution.</p>
<p class="p">There are differences in behavior that applications and devices experience when they connect to servers in a cluster as opposed to when they connect to a single server that is not part of a cluster.</p>
</div>
<nav role="navigation" class="related-links"><ul class="ullinks"><li class="link ulchildlink"><strong><a href="../Planning/clusteringsubscriptionvis.html">Clustering: In a request-response model</a></strong><br>It is best practice when you are using a request-response model for the requester to either use a durable response subscription established before any requests are made, by using cleanSession=false, or for cleanSession=true clients, by leaving time after subscribing before sending requests. </li><li class="link ulchildlink"><strong><a href="../Planning/clusteringretainedmsgs.html">Clustering: Retained messages</a></strong><br>It is best practice for the retained messages for a topic in a cluster to be published to the same server and with the same quality of service. Keep the number of retained messages to a minimum.</li><li class="link ulchildlink"><strong><a href="../Planning/clusteringtimeserversynch.html">Clustering: Time server synchronization</a></strong><br>Synchronize all servers in a cluster by using a common time server.</li><li class="link ulchildlink"><strong><a href="../Planning/clusteringmsgsbetweenservers.html">Clustering: Sending messages between cluster servers</a></strong><br>If it is imperative that quality of service (QoS) 1 and QoS 2 messages are always received by an application, connect an instance of the receiving application with a shared MQTT subscription or as a JMS application to each server that is in the cluster.</li><li class="link ulchildlink"><strong><a href="../Planning/clusteringmessageorder.html">Clustering: Message ordering</a></strong><br>To maintain message order, publishing clients must always connect to the same server when they publish messages. The messages are then delivered to the subscriber in the same order even if there is any delay in the forwarding of the messages.</li><li class="link ulchildlink"><strong><a href="../Planning/clusteringmsgpolicyconsiderations.html">Clustering: Max Messages Behavior</a></strong><br> To prevent the action that is specified in the <code class="ph codeph">Max Messages Behavior</code> attribute from causing a problem, ensure that there is sufficient memory available in your system and that you specify a value in the  <code class="ph codeph">Max Messages</code>attribute such that the <code class="ph codeph">Max Messages Behavior</code> is never implemented. </li><li class="link ulchildlink"><strong><a href="../Planning/clusteringclientstate.html">Clustering: Client state</a></strong><br>Ensure that MQTT clients that connect by specifying <code class="ph codeph">cleanSession=False</code> always connect to an assigned server in the cluster.</li><li class="link ulchildlink"><strong><a href="../Planning/clusteringomping.html">Clustering: Testing multicast connectivity between servers in a cluster</a></strong><br>You can use the <code class="ph codeph">omping</code> tool to test basic multicast connectivity between <span class="ph">Eclipse Amlen</span> servers in a cluster.</li></ul><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../Planning/pl00001_.html" title="When you plan your Eclipse Amlen solution, you must make a number of decisions to ensure your solution works effectively.">Planning</a></div></div><div class="linklist relconcepts"><strong>Related concepts</strong><br><ul class="linklist"><li class="linklist"><a class="link" href="../Overview/ov00150_.html">Clustering in <span class="ph">Eclipse Amlen</span></a></li></ul></div></nav>
</article></main></body></html>