<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2021"><meta name="generator" content="DITA-OT"><meta name="description" content="IBM provides a Docker environment file, which can be configured to activate the administration (admin) endpoint."><link rel="stylesheet" type="text/css" href="../commonltr.css"><link rel="stylesheet" type="text/css" href="../doc.css"><title>Using environment variables to configure the administration endpoint</title></head><body id="task_gl5_wk1_tfb"><nav role="toc"><ul><li><a href="../welcome.html">Welcome</a></li><li><a href="../Overview/ov00000_.html">Eclipse Amlen</a><ul><li><a href="../Overview/ov00000_.html">Product overview</a></li><li><a href="../Planning/pl00001_.html">Planning</a></li><li><a href="../QuickStartGuide/qsg10000.html">Installing Eclipse Amlen  </a></li><li><a href="../Upgrading/up00001_.html">Upgrading</a></li><li><a href="../Scenarios/sc00000_.html">End-to-end scenarios</a></li><li><a href="../Administering/ad00000_.html">Administering</a></li><li><a href="../AdministeringWebUI/ad00002_.html">Administering the Web UI</a></li><li><a href="../Bridge/br00010.html">Configuring the Bridge</a></li><li><a href="../Security/se00000_.html">Security</a></li><li><a href="../Monitoring/admin00008_.html">Monitoring and reporting</a></li><li><a href="../Backup/ba00000_.html">Backup and restore</a></li><li><a href="../Troubleshooting/tr10000_.html">Troubleshooting</a></li><li><a href="../Developing/develop_guide.html">Developing client applications</a><ul><li><a href="../Developing/devconcepts.html">Messaging concepts</a></li><li><a href="../Developing/devmsgtypes.html">Natively supported message types</a></li><li><a href="../Developing/devmsgsize.html">Message size</a></li><li><a href="../Developing/devclientids.html">Client IDs</a></li><li><a href="../Developing/devclientservercert.html">Server certificates</a></li><li><a href="../Developing/devretainmsg.html">Developing retained message applications</a></li><li><a href="../Developing/devexpiredmsg.html">Expired messages</a></li><li><a href="../Developing/devsharedsubscriptions.html">Shared subscriptions</a></li><li><a href="../Developing/devmqttapp.html">Developing MQTT applications</a></li><li><a href="../Developing/devjmsapp.html">Developing JMS applications</a></li><li><a href="../Developing/devplug-in.html">Developing a protocol plug-in</a></li><li><a href="../Bridge/br00010.html">Configuring the Bridge</a><ul><li><a href="../Bridge/br00011.html">Installing the Bridge by using Docker containers</a><ul><li><a href="../Developing/devplug-ineclipse.html">Debugging a protocol plug-in by running the plug-in server in Eclipse</a></li><li><a href="../Bridge/br00012.html">Post installation user actions</a><ul><li><a href="../Bridge/br00014.html">Changing the core pattern</a></li><li><a href="../Bridge/br00015.html">Configuring the log file rotation</a></li><li><a href="../Bridge/br00016.html">Configuring an administrative endpoint</a></li><li class="active"><a href="../Bridge/br00017.html">Using environment variables to configure the administration endpoint</a></li><li><a href="../Bridge/br00018.html">Using the Bridge configuration file to configure the administration endpoint</a></li></ul></li></ul></li></ul></li></ul></li><li><a href="../Reference/re00000_.html">Reference</a></li><li><a href="../glossary/glossary.html">Glossary</a></li></ul></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1">
<h1 class="title topictitle1" id="ariaid-title1">Using environment variables to configure the administration endpoint</h1>



    


    <div class="body taskbody"><p class="shortdesc">IBM provides a <span class="ph">Docker</span> environment file, which can be configured to activate the administration (admin) endpoint.</p><section class="section prereq">
        <p class="p">The Bridge can run in <span class="ph">Docker</span> containers or in the native host OS. The setting is different depending on the deployment environments.</p>
        <p class="p">In the <span class="ph">Docker</span>  container, the <span class="ph filepath">.tz</span> package from IBM provides a <span class="ph">Docker</span>  environment file. </p><p class="p">Before you begin, extract the <span class="ph filepath">.tz</span> package.</p>
    </section>
<section class="section context">
<div class="p">The <span class="ph filepath">imabridge-docker.env</span> file contains the following content:
    <pre class="pre codeblock"><code>
IMABRIDGE_ADMINPORT=9082
IMABRIDGE_ADMINIFACE=localhost
IMABRIDGE_ADMINSECURE=true
IMABRIDGE_ADMINUSER=adminUser
IMABRIDGE_ADMINPW=adminPassword
IMABRIDGE_ENABLEABOUT=true
IMABRIDGE_AUTHENTICATION=basic
</code></pre></div><p class="p">The Bridge is deployed in a native OS as the service EclipseAmlenBridge. The service needs the same variables as those in the preceding <span class="ph">Docker</span>. The environment
variables are set in the <span class="ph filepath">Systemd</span> configuration file.</p>
<table class="table" id="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb"><caption><span class="table--title-label">Table 1. </span><span class="title">A connection object defines the following properties that are required to
connect to an MQTT server.</span></caption><colgroup><col><col><col></colgroup><thead class="thead">
<tr class="row">
<th class="entry" id="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb__entry__1">Parameter</th>
<th class="entry" id="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb__entry__2">Default value</th>
<th class="entry" id="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb__entry__3">Description</th>
</tr>
</thead><tbody class="tbody">
<tr class="row">
<td class="entry" headers="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb__entry__1">IMABRIDGE_ADMINPORT</td>
<td class="entry" headers="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb__entry__2">9082
</td>
<td class="entry" headers="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb__entry__3">The mandatory admin port number, ranging from 1 to 65535. </td>
</tr>
<tr class="row">
<td class="entry" headers="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb__entry__1">IMABRIDGE_ADMINIFACE</td>
<td class="entry" headers="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb__entry__2">localhost
</td>
<td class="entry" headers="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb__entry__3">The optional administrative interface.</td>
</tr>
<tr class="row">
<td class="entry" headers="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb__entry__1">IMABRIDGE_ADMINSECURE</td>
<td class="entry" headers="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb__entry__2">true
</td>
<td class="entry" headers="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb__entry__3">The optional TLS switch, which is set to true by default (meaning TLS is enabled). If
IMABRIDGE_ADMINSECURE is true, you must provide further TLS-related information, which is
explained in the Using the Bridge configuration topic.</td>
</tr>
<tr class="row">
<td class="entry" headers="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb__entry__1">IMABRIDGE_ADMINUSER</td>
<td class="entry" headers="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb__entry__2">adminUser
</td>
<td class="entry" headers="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb__entry__3">The optional admin user ID.</td>
</tr>
<tr class="row">
<td class="entry" headers="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb__entry__1">IMABRIDGE_ADMINPW</td>
<td class="entry" headers="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb__entry__2">adminPassword
</td>
<td class="entry" headers="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb__entry__3">The optional password for IMABRIDGE_ADMINUSER. The password can be either plain text or obfuscated by using a uni-directional hash. </td>
</tr>
<tr class="row">
<td class="entry" headers="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb__entry__1">IMABRIDGE_ENABLEABOUT</td>
<td class="entry" headers="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb__entry__2">true</td>
<td class="entry" headers="task_gl5_wk1_tfb__datasimpletable_r2l_1mn_qfb__entry__3">The simple HTTP server is enabled showing the About page. IMABRIDGE_AUTHENTICATION is set to basic. If the
username is not specified, an HTTP status of 401 is returned. </td>
</tr>
</tbody></table>
</section>
<section><ol class="ol steps"><li class="li step stepexpand">
<span class="ph cmd">The <span class="ph filepath">imabridge-docker.env</span> file can be modified to meet your
requirements. To use the environment file, run the following command: </span>
<div class="itemgroup info">
<pre class="pre codeblock"><code>docker run --net=host -P -it --name BRIDGE -m &lt;memory_size&gt; 
-v &lt;data_volume&gt; --env-file imabridge-docker.env  -d imabridge:5.0.0.0
</code></pre>
</div>
</li><li class="li step stepexpand"><span class="ph cmd">Before you start the EclipseAmlenBridge service, open and edit the
<span class="ph filepath">/etc/systemd/system.conf</span> file. Update the
<span class="keyword parmname">DefaultEnvironment</span> parameter with the following
values:<code class="ph codeph">DefaultEnvironment="IMABRIDGE_ADMINPORT=9082"  "IMABRIDGE_ADMINIFACE=localhost"
"IMABRIDGE_ADMINSECURE=true" "IMABRIDGE_ADMINUSER=adminUser"  "IMABRIDGE_ADMINPW=adminPassword"
"IMABRIDGE_ENABLEABOUT=true"  "IMABRIDGE_AUTHENTICATION=basic"</code> where all the variables are
the same as those in the preceding Docker, but with a different format.</span></li><li class="li step stepexpand"><span class="ph cmd">Save and close the the <span class="ph filepath">/etc/systemd/system.conf</span> file. </span></li><li class="li step stepexpand"><span class="ph cmd">Either reboot the server or run the following command to activate the new environment variables: <code class="ph codeph">systemctl
daemon-reexec</code>.</span></li><li class="li step stepexpand"><span class="ph cmd">Start the EclipseAmlenBridge service by running the <span class="keyword cmdname">systemctl</span> command.</span></li></ol></section></div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../Bridge/br00012.html" title="After installation is complete, some host configuration changes might be required.">Post installation user actions</a></div></div></nav></article></main></body></html>