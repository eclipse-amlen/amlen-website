<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2022"><meta name="generator" content="DITA-OT"><meta name="description" content="You can close client connections by using a REST Administration API. You can specify one or more attributes to identify the connections to close. The attributes that you can specify are the client ID, the client IP address, and the user ID of the client."><link rel="stylesheet" type="text/css" href="../commonltr.css"><link rel="stylesheet" type="text/css" href="../doc.css"><title>Closing client connections</title></head><body id="ad00753_"><nav role="toc"><ul><li><a href="../welcome.html">Welcome</a></li><li><a href="../eclipse_amlen.html">Eclipse Amlen</a><ul><li><a href="../Overview/ov00000_.html">Product overview</a></li><li><a href="../Planning/pl00001_.html">Planning</a></li><li><a href="../QuickStartGuide/qsg10000.html">Installing Eclipse Amlen  </a></li><li><a href="../Upgrading/up00001_.html">Upgrading</a></li><li><a href="../Scenarios/sc00000_.html">End-to-end scenarios</a></li><li><a href="../Administering/ad00000_.html">Administering</a><ul><li><a href="../Administering/ad00390_.html">Configuring the administration endpoint</a></li><li><a href="../Administering/ad00200_.html">Server administration</a></li><li><a href="../Administering/ad00370_.html">Configuring LDAP for user authentication</a></li><li><a href="../Administering/ad00700_.html">Configuring security</a><ul><li><a href="../Administering/ad00710_.html">Configuring certificate profiles</a></li><li><a href="../Administering/ad00730_.html">Configuring Lightweight Third Party Authentication</a></li><li><a href="../Administering/ad00760_.html">Configuring OAuth</a></li><li><a href="../Administering/ad00740_.html">Configuring security profiles</a></li><li><a href="../Administering/ad00720_.html">Configuring client certificates</a></li><li><a href="../Administering/ad00728_.html">Configuring trusted certificates</a></li><li><a href="../Administering/dv00022.html">Configuring a pre-shared key file</a></li><li><a href="../Administering/ad00750_.html">Configuring Federal Information Processing Standards (FIPS)</a></li><li class="active"><a href="../Administering/ad00753_.html">Closing client connections</a></li></ul></li><li><a href="../Administering/dv00010.html">Configuring protocol plug-ins</a></li><li><a href="../Administering/ad00360_.html">Configuring message hubs</a></li><li><a href="../Administering/ad00350_.html">Configuring message queues</a></li><li><a href="../Administering/ad00940_.html">Configuring the cluster membership of an Eclipse Amlen server</a></li><li><a href="../Administering/ad00850_.html">Configuring disconnected client notifications</a></li><li><a href="../Administering/ad02940_.html">Configuring administrative subscriptions </a></li><li><a href="../Administering/ad00111.html">Deleting a ClientSet by using a REST Administration API</a></li><li><a href="../Administering/ad00510_.html">Configuring SNMP</a></li><li><a href="../Administering/ad01326_.html">Configuring certificate revocation lists</a></li><li><a href="../Administering/ad00460_.html">Viewing and deleting configuration objects by using REST Administration APIs</a></li><li><a href="../Administering/ad00929.html">Managing multiple Eclipse Amlen servers from a single Amlen WebUI</a></li><li><a href="../Administering/ad00100_.html">Working with external resources</a></li><li><a href="../Administering/ad00920.html">HTTP status codes</a></li></ul></li><li><a href="../AdministeringWebUI/ad00002_.html">Administering the Web UI</a></li><li><a href="../Bridge/br00010.html">Configuring the Bridge</a></li><li><a href="../Security/se00000_.html">Security</a></li><li><a href="../Monitoring/admin00008_.html">Monitoring and reporting</a></li><li><a href="../Backup/ba00000_.html">Backup and restore</a></li><li><a href="../Troubleshooting/tr10000_.html">Troubleshooting</a></li><li><a href="../Developing/develop_guide.html">Developing client applications</a></li><li><a href="../Reference/re00000_.html">Reference</a></li><li><a href="../glossary/glossary.html">Glossary</a></li></ul></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1">
<h1 class="title topictitle1" id="ariaid-title1">Closing client connections</h1>

<div class="body taskbody"><p class="shortdesc">You can close client connections by using a <span class="ph">REST Administration API</span>. You can specify one
    or more attributes to identify the connections to close. The attributes that you can specify are
    the client ID, the client IP address, and the user ID of the client.</p>
  <section class="section context">
   <p class="p">If the object configuration parameter that is specified in the <span class="ph">REST Administration API</span> applies to more
        than one client connection, all applicable client connections are closed. Therefore, ensure
        that you specify a parameter that does not apply to more client connections than the ones
        you want to close.</p>
   <p class="p">Do not use this command unless you are certain that the connection needs to be closed.
    Unnecessarily closing connections can affect performance.</p>
  </section>
  <section><ul class="ul steps-unordered"><li class="li step stepexpand">
    <span class="ph cmd">To close client connections, use the <span class="ph">Eclipse Amlen</span> REST API POST method with
     the following <span class="ph">Eclipse Amlen</span>
     configuration URI:</span>
    <div class="itemgroup info">
     <pre class="pre codeblock"><code>http://&lt;admin-endpoint-IP:Port&gt;/ima/v1/service/close/connection</code></pre>
    </div>
   </li><li class="li step stepexpand">
    <span class="ph cmd">Provide object configuration data in the payload of the POST method by using the following
     schema. Content-type is set to application/json: </span>
    <div class="itemgroup info"><pre class="pre codeblock"><code>
{ 
    "ClientID":"string", 
    "ClientAddress":"string",
    "UserID":"string" 
}</code></pre>Where:<dl class="dl">
            
              <dt class="dt dlterm"><var class="keyword varname">ClientID</var></dt>
              <dd class="dd">Specifies the client ID of the connection, or connections, that you want to
                close.</dd>
            
            
              <dt class="dt dlterm"><var class="keyword varname">ClientAddress</var></dt>
              <dd class="dd">Specifies the IP address of the connection, or connections, that you want to
                close.</dd>
            
            
              <dt class="dt dlterm"><var class="keyword varname">UserID</var></dt>
              <dd class="dd">Specifies the user ID of the connection, or connections, that you want to
                close.</dd>
            
          </dl><div class="note note note_note"><span class="note__title">Note:</span> You must specify at least one of the object configuration data parameters. The
            use of wildcard characters is permitted. You can specify more than one value by using a
            comma separated list.</div></div>
   </li></ul></section>
    <section class="example">
      <p class="p">The following example shows the POST method to close all connections with Client ID
          <code class="ph codeph">Client38104</code> or Client ID  <code class="ph codeph">Client38105</code> by using cURL:</p>
      <pre class="pre codeblock"><code>
curl -X POST \
   -H 'Content-Type: application/json'  \
   -d ' { 
         "ClientID":"Client38104,Client38105"
        }
 '  \
http://127.0.0.1:9089/ima/v1/service/close/connection</code></pre>
      <p class="p">The following shows an example response to the POST method:</p>
      <pre class="pre codeblock"><code>
{ 
   "Version":"v1",
   "Code":"CWLNA6137",
   "Message":"The specified connections were closed. Number of connections closed = 2" 
}</code></pre>
    </section>
    <section class="section postreq">
      <div class="p">Verify that all the connections are closed, by re-issuing the same REST API POST method
        that you used in the previous
        example:<pre class="pre codeblock"><code>
curl -X POST  \    
   -H 'Content-Type: application/json'  \    
   -d '  {
         "ClientID":"Client38104,Client38205"
         }
      ' \ 
http://127.0.0.1:9089/ima/v1/service/close/connection </code></pre>The
        following example response to the re-issued POST command is expected:
        <pre class="pre codeblock"><code>
{ 
   "Version":"v1",
   "Code":"CWLNA6136",
   "Message":"The specified connection was not closed. The specified connection cannot be found." 
}</code></pre></div>
    </section>
 </div>
</article></main></body></html>