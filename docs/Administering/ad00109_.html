<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2022"><meta name="generator" content="DITA-OT"><meta name="description" content="You can configure security between Eclipse Amlen and IBM MQ by using CA certificates to secure the connection."><link rel="stylesheet" type="text/css" href="../commonltr.css"><link rel="stylesheet" type="text/css" href="../doc.css"><title>Configuring MQ Connectivity security by using CA certificates</title></head><body id="ad00109_"><nav role="toc"><ul><li><a href="../welcome.html">Welcome</a></li><li><a href="../Overview/ov00000_.html">Eclipse Amlen</a><ul><li><a href="../Overview/ov00000_.html">Product overview</a></li><li><a href="../Planning/pl00001_.html">Planning</a></li><li><a href="../QuickStartGuide/qsg10000.html">Installing Eclipse Amlen  </a></li><li><a href="../Upgrading/up00001_.html">Upgrading</a></li><li><a href="../Scenarios/sc00000_.html">End-to-end scenarios</a></li><li><a href="../Administering/ad00000_.html">Administering</a><ul><li><a href="../Administering/ad00390_.html">Configuring the administration endpoint</a></li><li><a href="../Administering/ad00200_.html">Server administration</a></li><li><a href="../Administering/ad00370_.html">Configuring LDAP for user authentication</a></li><li><a href="../Administering/ad00700_.html">Configuring security</a></li><li><a href="../Administering/dv00010.html">Configuring protocol plug-ins</a></li><li><a href="../Administering/ad00360_.html">Configuring message hubs</a></li><li><a href="../Administering/ad00350_.html">Configuring message queues</a></li><li><a href="../Administering/ad00940_.html">Configuring the cluster membership of an Eclipse Amlen server</a></li><li><a href="../Administering/ad00850_.html">Configuring disconnected client notifications</a></li><li><a href="../Administering/ad02940_.html">Configuring administrative subscriptions </a></li><li><a href="../Administering/ad00111.html">Deleting a ClientSet by using a REST Administration API</a></li><li><a href="../Administering/ad00510_.html">Configuring SNMP</a></li><li><a href="../Administering/ad01326_.html">Configuring certificate revocation lists</a></li><li><a href="../Administering/ad00460_.html">Viewing and deleting configuration objects by using REST Administration APIs</a></li><li><a href="../Administering/ad00929.html">Managing multiple Eclipse Amlen servers from a single Amlen WebUI</a></li><li><a href="../Administering/ad00100_.html">Working with external resources</a><ul><li><a href="../Administering/ad00102_.html">MQ Connectivity</a><ul><li><a href="../Administering/ad00092_.html">MQ Connectivity throughput and message order</a></li><li><a href="../Administering/ad00101_.html">MQ Connectivity message persistence</a></li><li><a href="../Administering/ad00132_.html">MQ Connectivity retained messages</a></li><li><a href="../Administering/ad00103_.html">MQ Connectivity and high availability</a></li><li><a href="../Administering/ad00104_.html">MQ Connectivity security</a></li><li><a href="../Administering/ad00091_.html">Configuring the IBM MQ server connection channel</a><ul><li><a href="../Administering/ad00093_.html">Configuring the IBM MQ server connection channel on z/OS</a></li><li><a href="../Administering/ad00108_.html">Configuring MQ Connectivity security by using self-signed certificates</a></li><li class="active"><a href="../Administering/ad00109_.html">Configuring MQ Connectivity security by using CA certificates</a></li></ul></li><li><a href="../Administering/ad00105_.html">Configuring the MQ Connectivity SSL key repository</a></li><li><a href="../Administering/ad00113_.html">Configuring queue manager connections</a></li><li><a href="../Administering/ad00110_.html">Configuring destination mapping rules</a></li><li><a href="../Administering/ad00129_.html">Starting, restarting, stopping, and viewing the status of MQ Connectivity</a></li><li><a href="../Administering/ad00111_.html">MQ Connectivity scenarios</a></li></ul></li><li><a href="../Administering/workingwithjmsra.html">Eclipse Amlen resource adapter</a></li><li><a href="../Administering/vm00001_.html">Using VMware vSphere to handle Eclipse Amlen failover</a></li></ul></li><li><a href="../Administering/ad00920.html">HTTP status codes</a></li></ul></li><li><a href="../AdministeringWebUI/ad00002_.html">Administering the Web UI</a></li><li><a href="../Bridge/br00010.html">Configuring the Bridge</a></li><li><a href="../Security/se00000_.html">Security</a></li><li><a href="../Monitoring/admin00008_.html">Monitoring and reporting</a></li><li><a href="../Backup/ba00000_.html">Backup and restore</a></li><li><a href="../Troubleshooting/tr10000_.html">Troubleshooting</a></li><li><a href="../Developing/develop_guide.html">Developing client applications</a></li><li><a href="../Reference/re00000_.html">Reference</a></li><li><a href="../glossary/glossary.html">Glossary</a></li></ul></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1">
<h1 class="title topictitle1" id="ariaid-title1">Configuring <span class="ph">MQ Connectivity</span> security
by using CA certificates</h1>

<div class="body taskbody"><p class="shortdesc">You can configure security between <span class="ph">Eclipse Amlen</span> and <span class="ph">IBMÂ® MQ</span> by using CA certificates
to secure the connection.</p>
<section class="section prereq">Complete steps 1 to 4 in <a class="xref" href="ad00091_.html" title="To send messages between IBM MQ and Eclipse Amlen, you must configure a server connection channel.">Configuring the IBM MQ server connection channel</a>.</section>
<section class="section context">You can configure security between <span class="ph">Eclipse Amlen</span> and <span class="ph">IBM MQ</span> by using self-signed
certificates. Self-signed certificates can get you started quickly
in a test environment, but CA certificates are more secure than self-signed
certificates. For more information about configuring security by using
self-signed certificates, see <a class="xref" href="ad00108_.html" title="You can configure security between Eclipse Amlen and IBM MQ by using self-signed certificates to secure the connection.">Configuring MQ Connectivity security by using self-signed certificates</a>.</section>
<section><div class="li stepsection">The following steps take place on the <span class="ph">IBM MQ</span> server:</div><ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Create two key repositories, by using the <span class="keyword cmdname">runmqckm
-keydb -create</span> command. Create one key repository for <span class="ph">IBM MQ</span>, and one for <span class="ph">Eclipse Amlen</span>.</span><div class="itemgroup info"><p class="p">For
more information about creating key repositories in <span class="ph">IBM MQ</span>, see <a class="xref" href="http://www-01.ibm.com/support/knowledgecenter/SSFKSJ_7.5.0/com.ibm.mq.sec.doc/q012680_.htm" target="_blank" rel="external noopener">Setting up a key repository</a> in the <span class="ph">IBM MQ</span> documentation.</p></div>
</li><li class="li step stepexpand"><span class="ph cmd">Request a personal certificate for the <span class="ph">IBM MQ</span> queue manager
from the CA, by using the <span class="keyword cmdname">runmqckm -certreq -create</span> command.</span>
<div class="itemgroup info"><p class="p">A server certificate for <span class="ph">IBM MQ</span> must have the
label <code class="ph codeph">ibmwebspheremq<var class="keyword varname">QMGRName</var></code>,
where <var class="keyword varname">QMGRName</var> specifies the name of the queue
manager the certificate is used with, in lowercase. </p><p class="p">For more
information about requesting a personal certificate, see <a class="xref" href="http://www-01.ibm.com/support/knowledgecenter/SSFKSJ_7.5.0/com.ibm.mq.sec.doc/q012780_.htm" target="_blank" rel="external noopener">Requesting a personal certificate</a> in the <span class="ph">IBM MQ</span> documentation.</p></div>
</li><li class="li step stepexpand"><strong>Optional: </strong><span class="ph cmd">If you are using a client certificate,
request a personal certificate for <span class="ph">Eclipse Amlen</span> from the CA,
by using the <span class="keyword cmdname">runmqckm -certreq -create</span> command.</span>
<div class="itemgroup info"><p class="p">A client certificate for <span class="ph">Eclipse Amlen</span> must have the
label <code class="ph codeph">ibmwebspheremqadmin</code>. </p><p class="p">For more information
about requesting a personal certificate, see <a class="xref" href="http://www-01.ibm.com/support/knowledgecenter/SSFKSJ_7.5.0/com.ibm.mq.sec.doc/q012780_.htm" target="_blank" rel="external noopener">Requesting a personal certificate</a> in the <span class="ph">IBM MQ</span> documentation.</p></div>
</li><li class="li step stepexpand"><span class="ph cmd">Receive a personal certificate from the CA into the <span class="ph">IBM MQ</span> key repository,
by using the <span class="keyword cmdname">runmqckm -cert -receive</span> command.</span>
<div class="itemgroup info"><p class="p">For more information about receiving a personal certificate,
see <a class="xref" href="http://www-01.ibm.com/support/knowledgecenter/SSFKSJ_7.5.0/com.ibm.mq.sec.doc/q012800_.htm" target="_blank" rel="external noopener">Receiving personal certificates</a> in the <span class="ph">IBM MQ</span> documentation.</p></div>
</li><li class="li step stepexpand"><strong>Optional: </strong><span class="ph cmd">If you are using a client certificate,
receive a personal certificate from the CA into the <span class="ph">Eclipse Amlen</span> key repository,
by using the <span class="keyword cmdname">runmqckm -cert -receive</span> command.</span>
<div class="itemgroup info"><p class="p">For more information about receiving a personal certificate,
see <a class="xref" href="http://www-01.ibm.com/support/knowledgecenter/SSFKSJ_7.5.0/com.ibm.mq.sec.doc/q012800_.htm" target="_blank" rel="external noopener">Receiving personal certificates</a> in the <span class="ph">IBM MQ</span> documentation.</p></div>
</li><li class="li step stepexpand"><span class="ph cmd">Add the server CA certificate to the <span class="ph">Eclipse Amlen</span> key repository,
by using the <span class="keyword cmdname">runmqckm -cert -add</span> command.</span><div class="itemgroup info"><p class="p">For
more information about adding a CA certificate to a key repository,
see <a class="xref" href="http://www-01.ibm.com/support/knowledgecenter/SSFKSJ_7.5.0/com.ibm.mq.sec.doc/q012830_.htm" target="_blank" rel="external noopener">Adding a CA certificate</a> in the <span class="ph">IBM MQ</span> documentation.</p></div>
</li><li class="li step stepexpand"><strong>Optional: </strong><span class="ph cmd">Add the client CA certificate to
the <span class="ph">IBM MQ</span> key repository,
by using the <span class="keyword cmdname">runmqckm -cert -add</span> command.</span><div class="itemgroup info"><p class="p">For
more information about adding a CA certificate to a key repository,
see <a class="xref" href="http://www-01.ibm.com/support/knowledgecenter/SSFKSJ_7.5.0/com.ibm.mq.sec.doc/q012830_.htm" target="_blank" rel="external noopener">Adding a CA certificate</a> in the <span class="ph">IBM MQ</span> documentation.</p></div>
</li><li class="li step stepexpand"><span class="ph cmd">Associate the queue manager with the <span class="ph">IBM MQ</span> key repository
files, by using the <span class="keyword cmdname">ALTER QMGR</span> MQSC command with
the <span class="keyword parmname">SSLKEYR</span> parameter.</span><div class="itemgroup info"><p class="p">For more
information about the <span class="keyword cmdname">ALTER QMGR</span> MQSC command and
the options available, see <a class="xref" href="http://www-01.ibm.com/support/knowledgecenter/SSFKSJ_7.5.0/com.ibm.mq.ref.adm.doc/q085320_.htm" target="_blank" rel="external noopener">ALTER QMGR</a> in the <span class="ph">IBM MQ</span> documentation.</p></div>
</li><li class="li step stepexpand"><span class="ph cmd">If you are not using a client certificate for <span class="ph">Eclipse Amlen</span>, update the server-connection
channel, by using the <span class="keyword cmdname">ALTER CHANNEL</span> MQSC command.
Change the <span class="keyword parmname">SSLCAUTH</span> attribute to <code class="ph codeph">OPTIONAL</code>.</span>
<div class="itemgroup info"><p class="p">For more information about the <span class="keyword cmdname">ALTER CHANNEL</span> MQSC
command and the options available, see <a class="xref" href="http://www-01.ibm.com/support/knowledgecenter/SSFKSJ_7.5.0/com.ibm.mq.ref.adm.doc/q085170_.htm" target="_blank" rel="external noopener">ALTER CHANNEL</a> in the <span class="ph">IBM MQ</span> documentation.</p></div>
</li></ol><div class="li stepsection">The following step takes place on <span class="ph">Eclipse Amlen</span>:</div><ol class="ol steps" start="10"><li class="li step stepexpand"><span class="ph cmd">Upload the <span class="ph">Eclipse Amlen</span> key
repository database file and password stash file to <span class="ph">Eclipse Amlen</span>.</span><div class="itemgroup info">For
more information about uploading the key repository database file
and password stash file, see <a class="xref" href="ad00105_.html" title="To send messages securely between Eclipse Amlen and IBM MQ, you must configure an SSL key repository on Eclipse Amlen.">Configuring the MQ Connectivity SSL key repository</a>.</div>
</li></ol></section>
<section class="section postreq">Complete the remaining steps in <a class="xref" href="ad00091_.html" title="To send messages between IBM MQ and Eclipse Amlen, you must configure a server connection channel.">Configuring the IBM MQ server connection channel</a>.</section>
</div>

</article></main></body></html>