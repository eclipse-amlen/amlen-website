<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2022"><meta name="generator" content="DITA-OT"><meta name="description" content="You can disable high availability (HA) on a pair of servers in a cluster by using REST Administration APIs."><link rel="stylesheet" type="text/css" href="../commonltr.css"><link rel="stylesheet" type="text/css" href="../doc.css"><title>Disabling high availability on cluster members by using REST Administration APIs</title></head><body id="ad00998_"><nav role="toc"><ul><li><a href="../welcome.html">Welcome</a></li><li><a href="../Overview/ov00000_.html">Eclipse Amlen</a><ul><li><a href="../Overview/ov00000_.html">Product overview</a></li><li><a href="../Planning/pl00001_.html">Planning</a></li><li><a href="../QuickStartGuide/qsg10000.html">Installing Eclipse Amlen  </a></li><li><a href="../Upgrading/up00001_.html">Upgrading</a></li><li><a href="../Scenarios/sc00000_.html">End-to-end scenarios</a></li><li><a href="../Administering/ad00000_.html">Administering</a><ul><li><a href="../Administering/ad00390_.html">Configuring the administration endpoint</a></li><li><a href="../Administering/ad00200_.html">Server administration</a><ul><li><a href="../Administering/ad00210_.html">Network interface controllers</a></li><li><a href="../Administering/ad00380_.html">Configuring the server name</a></li><li><a href="../Administering/ad00290_.html">Configuring log files</a></li><li><a href="../Administering/ad00400_.html">Configuring your system for high availability</a><ul><li><a href="../Administering/ad00909_.html">Configuring HA </a><ul><li><a href="../Administering/ad01001_.html">Configuring high availability by using the Amlen WebUI</a></li><li><a href="../Administering/ad00993_.html">Configuring high availability by using REST Administration APIs</a><ul><li><a href="../Administering/ad00992_.html">Configuring Eclipse Amlen servers as an HA pair by using REST Administration APIs</a></li><li><a href="../Administering/ad00996_.html">Configuring high availability in an Eclipse Amlen cluster by using REST Administration APIs</a><ul><li><a href="../Administering/ad00997_.html">Enabling high availability on a member of a cluster by using REST Administration APIs</a></li><li class="active"><a href="../Administering/ad00998_.html">Disabling high availability on cluster members by using REST Administration APIs</a></li></ul></li><li><a href="../Administering/ad00995_.html">Viewing high availability configuration details by using a REST Administration API</a></li><li><a href="../Administering/ad00994_.html">Viewing the status of the high availability service by using a REST Administration API</a></li></ul></li></ul></li><li><a href="../Administering/ad00416_.html">High availability scenarios</a></li></ul></li><li><a href="../Administering/ad00790_.html">Configuring licensed usage and accepting the license for Eclipse Amlen  </a></li><li><a href="../Administering/ad00280_.html">Starting, stopping, restarting and viewing the status of the Eclipse Amlen server</a></li></ul></li><li><a href="../Administering/ad00370_.html">Configuring LDAP for user authentication</a></li><li><a href="../Administering/ad00700_.html">Configuring security</a></li><li><a href="../Administering/dv00010.html">Configuring protocol plug-ins</a></li><li><a href="../Administering/ad00360_.html">Configuring message hubs</a></li><li><a href="../Administering/ad00350_.html">Configuring message queues</a></li><li><a href="../Administering/ad00940_.html">Configuring the cluster membership of an Eclipse Amlen server</a></li><li><a href="../Administering/ad00850_.html">Configuring disconnected client notifications</a></li><li><a href="../Administering/ad02940_.html">Configuring administrative subscriptions </a></li><li><a href="../Administering/ad00111.html">Deleting a ClientSet by using a REST Administration API</a></li><li><a href="../Administering/ad00510_.html">Configuring SNMP</a></li><li><a href="../Administering/ad01326_.html">Configuring certificate revocation lists</a></li><li><a href="../Administering/ad00460_.html">Viewing and deleting configuration objects by using REST Administration APIs</a></li><li><a href="../Administering/ad00929.html">Managing multiple Eclipse Amlen servers from a single Amlen WebUI</a></li><li><a href="../Administering/ad00100_.html">Working with external resources</a></li><li><a href="../Administering/ad00920.html">HTTP status codes</a></li></ul></li><li><a href="../AdministeringWebUI/ad00002_.html">Administering the Web UI</a></li><li><a href="../Bridge/br00010.html">Configuring the Bridge</a></li><li><a href="../Security/se00000_.html">Security</a></li><li><a href="../Monitoring/admin00008_.html">Monitoring and reporting</a></li><li><a href="../Backup/ba00000_.html">Backup and restore</a></li><li><a href="../Troubleshooting/tr10000_.html">Troubleshooting</a></li><li><a href="../Developing/develop_guide.html">Developing client applications</a></li><li><a href="../Reference/re00000_.html">Reference</a></li><li><a href="../glossary/glossary.html">Glossary</a></li></ul></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1">
<h1 class="title topictitle1" id="ariaid-title1">Disabling high availability on cluster members by using <span class="ph">REST Administration APIs</span></h1>






<div class="body taskbody"><p class="shortdesc">You can disable high availability (HA) on a pair of servers in a cluster by using <span class="ph">REST Administration APIs</span>. </p>
<section class="section context">
<p class="p">You can disable HA on cluster members that are an HA pair by using <span class="ph">REST Administration APIs</span>, or by using the <span class="ph">Amlen WebUI</span>. For more information about using the <span class="ph">Amlen WebUI</span> to disable HA on cluster members, see <a class="xref" href="ad01000_.html" title="You can disable high availability (HA) on a pair of servers in a cluster by using the Amlen WebUI.">Disabling high availability on cluster members by using the Amlen WebUI</a>. For more information about configuring a pair of servers as an HA pair, see <a class="xref" href="ad00992_.html" title="In this scenario, an Eclipse Amlen server that has high availability (HA) disabled is now paired with another Eclipse Amlen server to act as its backup. System administrators can configure a pair of servers for high availability by using REST Administration APIs.">Configuring Eclipse Amlen servers as an HA pair by using REST Administration APIs</a>. </p>
<p class="p">You can disable HA on the primary server or the standby server. If you disable HA on the primary server, HA is also disabled on the standby server.</p>
<p class="p">You might decide to disable HA on the primary server so that you use only a single server. You might decide to disable HA on the standby server so that you can replace the standby server with another server. </p>
<div class="note note note_note"><span class="note__title">Note:</span> If both servers of the HA pair are in maintenance mode, disable HA on one server and restart it in production mode. Discard the the instance of <span class="ph">Eclipse Amlen</span> on the other server.</div>
</section>
<section><div class="ol steps"><div class="li step p">
<span class="ph cmd">You can disable HA on the primary server or the standby server. </span>
<ul class="ul choices">
<li class="li choice">If you are disabling HA on the primary server of a synchronized HA pair:<ol class="ol" type="a">
<li class="li">Set <code class="ph codeph">"EnableHA": false</code> on the primary server.</li>
<li class="li">Restart the server in production mode.<p class="p">Use the <span class="ph">Eclipse Amlen</span> REST API POST method on each server with the following <span class="ph">Eclipse Amlen</span> configuration URI:</p><p class="p"><code class="ph codeph">http://&lt;admin-endpoint-IP:port&gt;/ima/v1/service/restart</code></p><p class="p">Provide object configuration data in the payload of the POST method by using the following schema. <span class="keyword parmname">Content-type</span> is set to <kbd class="ph userinput">application/json</kbd>: </p><pre class="pre codeblock"><code>
{    
  "Service": "Server" 
}</code></pre>If the standby server was synchronized, it automatically restarts in maintenance mode and with HA disabled. If the standby server was inactive or had been running in maintenance mode, do not restart it.</li>
<li class="li">Do not use the former standby server. Discard this instance of the <span class="ph">Eclipse Amlen</span> server.</li>
</ol></li>
<li class="li choice">If you are disabling HA on the standby server:<ol class="ol" type="a">
<li class="li">Set <code class="ph codeph">"EnableHA": false</code> on the standby server.</li>
<li class="li">The standby server automatically restarts in maintenance mode.</li>
<li class="li">Do not continue to use this server. Discard this instance of the <span class="ph">Eclipse Amlen</span> server.</li>
</ol></li>
<li class="li choice">If both servers in the HA pair are in maintenance mode:<ol class="ol" type="a">
<li class="li">Set <code class="ph codeph">"EnableHA": false</code> on one of the servers.</li>
<li class="li">Restart this server in production mode.<p class="p">Use the <span class="ph">Eclipse Amlen</span> REST API POST method on each server with the following <span class="ph">Eclipse Amlen</span> configuration URI:</p><p class="p"><code class="ph codeph">http://&lt;admin-endpoint-IP:port&gt;/ima/v1/service/restart</code></p><p class="p">Provide object configuration data in the payload of the POST method by using the following schema. <span class="keyword parmname">Content-type</span> is set to <kbd class="ph userinput">application/json</kbd>: </p><pre class="pre codeblock"><code>
{    
  "Service": "Server" 
}</code></pre></li>
<li class="li">Do not continue to use the other server. Discard the instance of  <span class="ph">Eclipse Amlen</span> that is on the other server.</li>
</ol></li>
</ul>
</div></div></section>
</div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../Administering/ad00996_.html" title="System administrators can configure cluster members as high availability (HA) pairs by using REST Administration APIs.">Configuring high availability in an Eclipse Amlen cluster by using REST Administration APIs</a></div></div></nav></article></main></body></html>