<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2022"><meta name="generator" content="DITA-OT"><meta name="description" content="You can send retained messages between Eclipse Amlen and IBM MQ by using the RetainedMessages parameter in a destination mapping rule."><link rel="stylesheet" type="text/css" href="../commonltr.css"><link rel="stylesheet" type="text/css" href="../doc.css"><title>MQ Connectivity retained messages</title></head><body id="ad00132_"><nav role="toc"><ul><li><a href="../welcome.html">Welcome</a></li><li><a href="../Overview/ov00000_.html">Eclipse Amlen</a><ul><li><a href="../Overview/ov00000_.html">Product overview</a></li><li><a href="../Planning/pl00001_.html">Planning</a></li><li><a href="../QuickStartGuide/qsg10000.html">Installing Eclipse Amlen  </a></li><li><a href="../Upgrading/up00001_.html">Upgrading</a></li><li><a href="../Scenarios/sc00000_.html">End-to-end scenarios</a></li><li><a href="../Administering/ad00000_.html">Administering</a><ul><li><a href="../Administering/ad00390_.html">Configuring the administration endpoint</a></li><li><a href="../Administering/ad00200_.html">Server administration</a></li><li><a href="../Administering/ad00370_.html">Configuring LDAP for user authentication</a></li><li><a href="../Administering/ad00700_.html">Configuring security</a></li><li><a href="../Administering/dv00010.html">Configuring protocol plug-ins</a></li><li><a href="../Administering/ad00360_.html">Configuring message hubs</a></li><li><a href="../Administering/ad00350_.html">Configuring message queues</a></li><li><a href="../Administering/ad00940_.html">Configuring the cluster membership of an Eclipse Amlen server</a></li><li><a href="../Administering/ad00850_.html">Configuring disconnected client notifications</a></li><li><a href="../Administering/ad02940_.html">Configuring administrative subscriptions </a></li><li><a href="../Administering/ad00111.html">Deleting a ClientSet by using a REST Administration API</a></li><li><a href="../Administering/ad00510_.html">Configuring SNMP</a></li><li><a href="../Administering/ad01326_.html">Configuring certificate revocation lists</a></li><li><a href="../Administering/ad00460_.html">Viewing and deleting configuration objects by using REST Administration APIs</a></li><li><a href="../Administering/ad00929.html">Managing multiple Eclipse Amlen servers from a single Amlen WebUI</a></li><li><a href="../Administering/ad00100_.html">Working with external resources</a><ul><li><a href="../Administering/ad00102_.html">MQ Connectivity</a><ul><li><a href="../Administering/ad00092_.html">MQ Connectivity throughput and message order</a></li><li><a href="../Administering/ad00101_.html">MQ Connectivity message persistence</a></li><li class="active"><a href="../Administering/ad00132_.html">MQ Connectivity retained messages</a></li><li><a href="../Administering/ad00103_.html">MQ Connectivity and high availability</a></li><li><a href="../Administering/ad00104_.html">MQ Connectivity security</a></li><li><a href="../Administering/ad00091_.html">Configuring the IBM MQ server connection channel</a></li><li><a href="../Administering/ad00105_.html">Configuring the MQ Connectivity SSL key repository</a></li><li><a href="../Administering/ad00113_.html">Configuring queue manager connections</a></li><li><a href="../Administering/ad00110_.html">Configuring destination mapping rules</a></li><li><a href="../Administering/ad00129_.html">Starting, restarting, stopping, and viewing the status of MQ Connectivity</a></li><li><a href="../Administering/ad00111_.html">MQ Connectivity scenarios</a></li></ul></li><li><a href="../Administering/workingwithjmsra.html">Eclipse Amlen resource adapter</a></li><li><a href="../Administering/vm00001_.html">Using VMware vSphere to handle Eclipse Amlen failover</a></li></ul></li><li><a href="../Administering/ad00920.html">HTTP status codes</a></li></ul></li><li><a href="../AdministeringWebUI/ad00002_.html">Administering the Web UI</a></li><li><a href="../Bridge/br00010.html">Configuring the Bridge</a></li><li><a href="../Security/se00000_.html">Security</a></li><li><a href="../Monitoring/admin00008_.html">Monitoring and reporting</a></li><li><a href="../Backup/ba00000_.html">Backup and restore</a></li><li><a href="../Troubleshooting/tr10000_.html">Troubleshooting</a></li><li><a href="../Developing/develop_guide.html">Developing client applications</a></li><li><a href="../Reference/re00000_.html">Reference</a></li><li><a href="../glossary/glossary.html">Glossary</a></li></ul></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1">
<h1 class="title topictitle1" id="ariaid-title1"><span class="ph">MQ Connectivity</span> retained
messages</h1>

<div class="body conbody"><p class="shortdesc">You can send retained messages between <span class="ph">Eclipse Amlen</span> and <span class="ph">IBMÂ® MQ</span> by using the <code class="ph codeph">RetainedMessages</code> parameter
in a destination mapping rule.</p>
<p class="p">The <code class="ph codeph">RetainedMessages</code> parameter can be used to
specify that either all the messages, or none of the messages, that
are forwarded by using the destination mapping rule are forwarded
as retained messages. This parameter overrides any settings from the
original message publisher.</p>
<p class="p">You can specify that all messages are retained messages only for
destination mapping rules with a single queue manager connection.
The destination mapping rule cannot be a rule that maps to an <span class="ph">Eclipse Amlen</span> queue, or a <span class="ph">IBM MQ</span> queue.</p>
<p class="p">To clear retained messages that are sent between <span class="ph">Eclipse Amlen</span> and <span class="ph">IBM MQ</span>, you must clear
the messages on both servers. To ensure that the retained message
is not resent, first clear the message from the source of the destination
mapping rule. Then, clear the message from the destination of the
rule. You can delete an MQTT retained message from <span class="ph">Eclipse Amlen</span> by sending a
retained message with a zero length payload. The message is delivered
normally, and the current retained message is cleared. You can delete
a retained message in <span class="ph">IBM MQ</span> by
using the <span class="keyword cmdname">CLEAR TOPICSTR</span> MQSC command. For more
information about the <span class="keyword cmdname">CLEAR TOPICSTR</span> command, see <a class="xref" href="http://www-01.ibm.com/support/knowledgecenter/SSFKSJ_7.5.0/com.ibm.mq.ref.adm.doc/q085480_.htm" target="_blank" rel="external noopener">CLEAR TOPICSTR</a> in the <span class="ph">IBM MQ</span> documentation.</p>
<p class="p">For more information about configuring destination mapping rules,
see <a class="xref" href="ad00110_.html" title="To send messages between Eclipse Amlen and IBM MQ, you must create destination mapping rules. Destination mapping rules are created by associating an Eclipse Amlen topic or queue with a IBM MQ topic or queue. You can create a maximum of 64 destination mapping rules.">Configuring destination mapping rules</a>.</p>
</div>
<nav role="navigation" class="related-links"><div class="linklist relconcepts"><strong>Related concepts</strong><br><ul class="linklist"><li class="linklist"><a class="link" href="../Overview/ov00033.html" title="By default, after a message is published to a topic and is received by the subscribers, the message is discarded. However, a publisher can specify that a copy of the message is retained so that it is sent to future subscribers of the topic.">Retained messages</a></li><li class="linklist"><a class="link" href="../Developing/devretainmsg.html" title="The publisher of a message can specify that a copy of the message must be kept on Eclipse Amlen as a retained message. This retained message is sent to any subscribers that subscribe after the message was published. Eclipse Amlen supports both MQTT and JMS retained messages.">Developing retained message applications</a></li></ul></div></nav>
</article></main></body></html>