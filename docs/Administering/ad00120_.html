<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2022"><meta name="generator" content="DITA-OT"><meta name="description" content="System administrators can create a queue manager connection by using REST Administration APIs."><link rel="stylesheet" type="text/css" href="../commonltr.css"><link rel="stylesheet" type="text/css" href="../doc.css"><title>Creating and updating a queue manager connection by using REST Administration APIs</title></head><body id="ad00120_"><nav role="toc"><ul><li><a href="../welcome.html">Welcome</a></li><li><a href="../eclipse_amlen.html">Eclipse Amlen</a><ul><li><a href="../Overview/ov00000_.html">Product overview</a></li><li><a href="../Planning/pl00001_.html">Planning</a></li><li><a href="../QuickStartGuide/qsg10000.html">Installing Eclipse Amlen  </a></li><li><a href="../Upgrading/up00001_.html">Upgrading</a></li><li><a href="../Scenarios/sc00000_.html">End-to-end scenarios</a></li><li><a href="../Administering/ad00000_.html">Administering</a><ul><li><a href="../Administering/ad00390_.html">Configuring the administration endpoint</a></li><li><a href="../Administering/ad00200_.html">Server administration</a></li><li><a href="../Administering/ad00370_.html">Configuring LDAP for user authentication</a></li><li><a href="../Administering/ad00700_.html">Configuring security</a></li><li><a href="../Administering/dv00010.html">Configuring protocol plug-ins</a></li><li><a href="../Administering/ad00360_.html">Configuring message hubs</a></li><li><a href="../Administering/ad00350_.html">Configuring message queues</a></li><li><a href="../Administering/ad00940_.html">Configuring the cluster membership of an Eclipse Amlen server</a></li><li><a href="../Administering/ad00850_.html">Configuring disconnected client notifications</a></li><li><a href="../Administering/ad02940_.html">Configuring administrative subscriptions </a></li><li><a href="../Administering/ad00111.html">Deleting a ClientSet by using a REST Administration API</a></li><li><a href="../Administering/ad00510_.html">Configuring SNMP</a></li><li><a href="../Administering/ad01326_.html">Configuring certificate revocation lists</a></li><li><a href="../Administering/ad00460_.html">Viewing and deleting configuration objects by using REST Administration APIs</a></li><li><a href="../Administering/ad00929.html">Managing multiple Eclipse Amlen servers from a single Amlen WebUI</a></li><li><a href="../Administering/ad00100_.html">Working with external resources</a><ul><li><a href="../Administering/ad00102_.html">MQ Connectivity</a><ul><li><a href="../Administering/ad00092_.html">MQ Connectivity throughput and message order</a></li><li><a href="../Administering/ad00101_.html">MQ Connectivity message persistence</a></li><li><a href="../Administering/ad00132_.html">MQ Connectivity retained messages</a></li><li><a href="../Administering/ad00103_.html">MQ Connectivity and high availability</a></li><li><a href="../Administering/ad00104_.html">MQ Connectivity security</a></li><li><a href="../Administering/ad00091_.html">Configuring the IBM MQ server connection channel</a></li><li><a href="../Administering/ad00105_.html">Configuring the MQ Connectivity SSL key repository</a></li><li><a href="../Administering/ad00113_.html">Configuring queue manager connections</a><ul><li><a href="../Administering/ad00117_.html">Configuring queue manager connections by using the Amlen WebUI</a></li><li><a href="../Administering/ad00119_.html">Configuring queue manager connections by using REST Administration APIs  </a><ul><li class="active"><a href="../Administering/ad00120_.html">Creating and updating a queue manager connection by using REST Administration APIs</a></li><li><a href="../Administering/ad00127_.html">Viewing a queue manager connection by using REST Administration APIs</a></li></ul></li></ul></li><li><a href="../Administering/ad00110_.html">Configuring destination mapping rules</a></li><li><a href="../Administering/ad00129_.html">Starting, restarting, stopping, and viewing the status of MQ Connectivity</a></li><li><a href="../Administering/ad00111_.html">MQ Connectivity scenarios</a></li></ul></li><li><a href="../Administering/workingwithjmsra.html">Eclipse Amlen resource adapter</a></li><li><a href="../Administering/vm00001_.html">Using VMware vSphere to handle Eclipse Amlen failover</a></li></ul></li><li><a href="../Administering/ad00920.html">HTTP status codes</a></li></ul></li><li><a href="../AdministeringWebUI/ad00002_.html">Administering the Web UI</a></li><li><a href="../Bridge/br00010.html">Configuring the Bridge</a></li><li><a href="../Security/se00000_.html">Security</a></li><li><a href="../Monitoring/admin00008_.html">Monitoring and reporting</a></li><li><a href="../Backup/ba00000_.html">Backup and restore</a></li><li><a href="../Troubleshooting/tr10000_.html">Troubleshooting</a></li><li><a href="../Developing/develop_guide.html">Developing client applications</a></li><li><a href="../Reference/re00000_.html">Reference</a></li><li><a href="../glossary/glossary.html">Glossary</a></li></ul></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1">
<h1 class="title topictitle1" id="ariaid-title1">Creating and updating a queue manager connection by using <span class="ph">REST Administration APIs</span></h1>

<div class="body taskbody"><p class="shortdesc">System administrators can create a queue manager connection by using <span class="ph">REST Administration APIs</span>.</p>
<section class="section context"><p class="p">You can create a queue manager connection by using <span class="ph">REST Administration APIs</span>, or by using the <span class="ph">Amlen WebUI</span>. For more information about using the <span class="ph">Amlen WebUI</span> to create a queue manager connection, see <a class="xref" href="ad00117_.html" title="System administrators and messaging administrators can configure queue manager connections by using the MQ Connectivity page in the Amlen WebUI.">Configuring queue manager connections by using the Amlen WebUI</a>.</p>
      <p class="p">You can edit a queue manager connection only if all the destination mapping rules that are
        using the queue manager connection are disabled. You can disable destination mapping rules
        by editing the rules. For more information about editing destination mapping rules by using
        REST Administration APIs, see <a class="xref" href="ad00123_.html" title="System administrators can create and update destination mapping rules by using the REST Administration APIs.">Creating and updating a destination mapping rule by using REST Administration APIs</a>. Alternatively, you can disable
        destination mapping rules by using the <span class="ph">Amlen WebUI</span>, see <a class="xref" href="ad00114_.html" title="System administrators and messaging administrators can configure destination mapping rules by using the MQ Connectivity page in the Amlen WebUI.">Configuring destination mapping rules by using the Amlen WebUI</a>.</p><p class="p">For
more information about the components that make up a queue manager
connection, see <a class="xref" href="ad00113_.html" title="To connect Eclipse Amlen to IBM MQ queue managers, you must create queue manager connections. Each queue manager connection specifies the connection details for one queue manager.">Configuring queue manager connections</a>.</p></section>
<section><ol class="ol steps"><li class="li step stepexpand">
        <span class="ph cmd">To create or update a queue manager connection,use the <span class="ph">Eclipse Amlen</span> REST API POST method with the following <span class="ph">Eclipse Amlen</span> configuration URI:</span>
        <div class="itemgroup info">
          <p class="p"><code class="ph codeph">http://&lt;admin-endpoint-IP:Port&gt;/ima/v1/configuration/</code></p>
        </div>
      </li><li class="li step stepexpand">
    <span class="ph cmd">Provide queue manager connection object configuration data in the payload of the POST
     method by using the following schema. <span class="keyword parmname">Content-type</span> is set to
      <kbd class="ph userinput">application/json</kbd>. Ensure that capitalization and double quotation marks
     are used as shown.</span>
    <div class="itemgroup info"><pre class="pre codeblock"><code>
{    
  "QueueManagerConnection": {
    "&lt;NameOfQueueManagerConnection&gt;": {
      "QueueManagerName": "string",
      "ConnectionName": "string",
      "ChannelName": "string",
      "SSLCipherSpec": "string",  
      "ChannelUserName": "string",
      "ChannelUserPassword": "string",  
      "MQSSLKey": "string",
      "MQStashPassword": "string",
      "Verify": true|false,
      "Overwrite": true|false           
     }
   }
}</code></pre>Where:<ul class="ul">
            <li class="li">
              <dl class="dl">
                
                  <dt class="dt dlterm"><var class="keyword varname">NameOfQueueManagerConnection</var></dt>
                  <dd class="dd">Specifies a name for your queue manager connection. After your queue manager
                    connection is created, you cannot change this name.</dd>
                  <dd class="dd ddexpand">The name must not have leading or trailing spaces and cannot contain control
                    characters, commas, double quotation marks, backslashes, or equal signs. The
                    first character must not be a number or any of the following special characters:
                        <p class="p"><code class="ph codeph">! # $ % &amp; ' ( ) * + - . / : ; &lt; &gt; ? @</code></p></dd>
                
              </dl>
            </li>
            <li class="li">
              <dl class="dl">
                
                  <dt class="dt dlterm">QueueManagerName</dt>
                  <dd class="dd">Specifies the name of the queue manager to connect to.</dd>
                
              </dl>
            </li>
            <li class="li">
              <dl class="dl">
                
                  <dt class="dt dlterm">ConnectionName</dt>
                  <dd class="dd">Specifies the connection name of the queue manager to connect to.<p class="p">The
                      connection name consists of the IP address or host name of the queue manager,
                      and optionally, the port number. If a port number is not specified, the
                      default value of 1414 is used. For multi-instance queue managers, you can
                      specify more than one connection by entering the connection names in a
                      comma-separated list.</p><p class="p">For a connection name with a port number, you must
                      specify the port number in parentheses. For example:
                        <code class="ph codeph">192.0.2.0(1414)</code></p><p class="p">For a connection name without a port
                      number, do not use parentheses. For example:
                    <code class="ph codeph">192.0.2.0</code></p></dd>
                
              </dl>
            </li>
            <li class="li">
              <dl class="dl">
                
                  <dt class="dt dlterm">ChannelName</dt>
                  <dd class="dd">Specifies the channel name of the queue manager to connect to.<p class="p">The name that
                      you specify in <span class="ph">Eclipse Amlen</span> must match
                      the name of the server-connection channel that you defined in <span class="ph">IBM MQ</span>.</p></dd>
                
              </dl>
            </li>
            <li class="li">
              <dl class="dl">
                
                  <dt class="dt dlterm">SSLCipherSpec</dt>
                  <dd class="dd">Optional.</dd>
                  <dd class="dd ddexpand">Specifies the SSL cipher that is used in the connection between <span class="ph">Eclipse Amlen</span> and <span class="ph">IBM MQ</span>.</dd>
                  <dd class="dd ddexpand">The cipher that is specified must match the cipher that is defined in <span class="ph">IBM MQ</span> for the queue manager that is
                    used in the queue manager connection.</dd>
                
              </dl>
            </li>
            <li class="li">
              <dl class="dl">
                
                  <dt class="dt dlterm">ChannelUserName</dt>
                  <dd class="dd">Optional.</dd>
                  <dd class="dd ddexpand">Specifies the user name to provide to <span class="ph">IBM MQ</span> Connectivity channel
                    authentication.</dd>
                  <dd class="dd ddexpand">The maximum length of the name is 1024 characters.</dd>
                  <dd class="dd ddexpand">If you specify a channel user name, you must also specify a channel user
                    password.</dd>
                
              </dl>
            </li>
            <li class="li">
              <dl class="dl">
                
                  <dt class="dt dlterm">ChannelUserPassword</dt>
                  <dd class="dd">Optional.</dd>
                  <dd class="dd ddexpand">Specifies the password to provide to <span class="ph">IBM MQ</span> Connectivity channel
                    authentication</dd>
                  <dd class="dd ddexpand">The maximum length of the password is 256 characters.</dd>
                  <dd class="dd ddexpand">You must specify a channel user password if you specify a channel user
                    name.</dd>
                
              </dl>
            </li>
            <li class="li">
              <dl class="dl">
                
                  <dt class="dt dlterm">MQSSLKey</dt>
                  <dd class="dd">Specifies the name of the key database file.</dd>
                
              </dl>
            </li>
            <li class="li">
              <dl class="dl">
                
                  <dt class="dt dlterm">MQStashPassword</dt>
                  <dd class="dd">Specifies the name of the password stash file.</dd>
                
              </dl>
            </li>
            <li class="li">
              <dl class="dl">
                
                  <dt class="dt dlterm">Verify: true|false</dt>
                  <dd class="dd">Specifies whether the queue manager connection is tested with the
                    configuration change without committing the configuration change. </dd>
                  <dd class="dd ddexpand">Set this value to true to verify that the configuration that you have entered
                    is valid.</dd>
                  <dd class="dd ddexpand">The default value is false which means that the configuration change is
                    committed without first testing the queue manager connection.</dd>
                
              </dl>
            </li>
            <li class="li">
              <dl class="dl">
                
                  <dt class="dt dlterm">Overwrite: true|false</dt>
                  <dd class="dd">Specifies whether an existing certificate and key are overwritten if they have
                    the same name.</dd>
                  <dd class="dd ddexpand">The default value is false which means that an existing certificate and key
                    are not overwritten if they have the same name.</dd>
                
              </dl>
            </li>
          </ul></div>
   </li></ol></section>
<section class="example">
   <p class="p">This example demonstrates creating a queue manager connection called
    <code class="ph codeph">MyQMC</code>.</p>
   <pre class="pre codeblock"><code>
curl -X POST \
   -H 'Content-Type: application/json'  \
   -d  '{     
  "QueueManagerConnection": {
    "MyQMC": {
      "QueueManagerName": "MyQueueManager",
      "ConnectionName": "192.0.2.0(1414)",
      "ChannelName": "SYSTEM.IMA.SVRCONN",
      "SSLCipherSpec": ""         
     }
   }
}</code></pre>
   <p class="p">The following example shows an example response to the POST method:</p>
   <pre class="pre codeblock"><code>
{        
  "Version": "v1",
  "Code": "CWLNA6011",
  "Message": "The requested configuration change has completed successfully."
}
</code></pre>
  </section>
</div>

</article></main></body></html>