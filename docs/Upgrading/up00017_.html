<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2022"><meta name="generator" content="DITA-OT"><meta name="description" content="System administrators can upgrade their IBM IoT MessageSight version 1.2 systems to Eclipse Amlen version 1.0 by exporting and importing the server configuration file. The server configuration file is exported from an IBM IoT MessageSight version 1.2 physical or virtual appliance and imported into a running Eclipse Amlen version 1.0 environment."><link rel="stylesheet" type="text/css" href="../commonltr.css"><link rel="stylesheet" type="text/css" href="../doc.css"><title>Upgrading to Eclipse Amlen version 1.0: server configuration only</title></head><body id="up00017_"><nav role="toc"><ul><li><a href="../welcome.html">Welcome</a></li><li><a href="../Overview/ov00000_.html">Eclipse Amlen</a><ul><li><a href="../Overview/ov00000_.html">Product overview</a></li><li><a href="../Planning/pl00001_.html">Planning</a></li><li><a href="../QuickStartGuide/qsg10000.html">Installing Eclipse Amlen  </a></li><li><a href="../Upgrading/up00001_.html">Upgrading</a><ul><li><a href="../Upgrading/up00014_.html">Upgrading and rolling back the software level of Eclipse Amlen</a></li><li><a href="../Upgrading/up00021_.html">Upgrading from IBM Watson IoT Platform Message Gateway to Eclipse Amlen</a></li><li><a href="../Upgrading/up00020_.html">Upgrading from IBM IoT MessageSight v2 (or above) to Eclipse Amlen</a></li><li><a href="../Upgrading/up00015_.html">Upgrading from IBM IoT MessageSight version 1.2</a><ul><li><a href="../Upgrading/up00016_.html">Planning to upgrade to Eclipse Amlen version 1.0 from IBM IoT MessageSight version 1.2</a></li><li class="active"><a href="../Upgrading/up00017_.html">Upgrading to Eclipse Amlen version 1.0: server configuration only</a></li><li><a href="../Upgrading/up00018_.html">Upgrading to Eclipse Amlen version 1.0: server configuration and store</a></li><li><a href="../Upgrading/up00019_.html">Upgrading to Eclipse Amlen version 1.0: taking a backup of the IBM IoT MessageSight version 1.2 configuration and store</a></li></ul></li></ul></li><li><a href="../Scenarios/sc00000_.html">End-to-end scenarios</a></li><li><a href="../Administering/ad00000_.html">Administering</a></li><li><a href="../AdministeringWebUI/ad00002_.html">Administering the Web UI</a></li><li><a href="../Bridge/br00010.html">Configuring the Bridge</a></li><li><a href="../Security/se00000_.html">Security</a></li><li><a href="../Monitoring/admin00008_.html">Monitoring and reporting</a></li><li><a href="../Backup/ba00000_.html">Backup and restore</a></li><li><a href="../Troubleshooting/tr10000_.html">Troubleshooting</a></li><li><a href="../Developing/develop_guide.html">Developing client applications</a></li><li><a href="../Reference/re00000_.html">Reference</a></li><li><a href="../glossary/glossary.html">Glossary</a></li></ul></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1">
<h1 class="title topictitle1" id="ariaid-title1">Upgrading to <span class="ph">Eclipse Amlen</span> version <span class="ph">1.0</span>:
server configuration only</h1>






<div class="body taskbody"><p class="shortdesc">System administrators can upgrade their <span class="ph">IBMÂ® IoT MessageSight</span> version 1.2 systems to <span class="ph">Eclipse Amlen</span> version <span class="ph">1.0</span> by exporting and importing the server
configuration file. The server configuration file is exported from an <span class="ph">IBM IoT MessageSight</span> version 1.2 physical or virtual appliance and imported
into a running <span class="ph">Eclipse Amlen</span> version <span class="ph">1.0</span> environment.</p>
<section class="section prereq">
<ul class="ul">
<li class="li">The <span class="ph">IBM IoT MessageSight</span> version 1.2 server must be at the latest interim fix
level. A list of interim fixes is available here: <a class="xref" href="http://www-01.ibm.com/support/docview.wss?uid=swg21973411" target="_blank" rel="external noopener">Fixes released for <span class="ph">IBM IoT MessageSight</span></a>.</li>
<li class="li">The <span class="ph">Eclipse Amlen</span> version <span class="ph">1.0</span> server to which you are exporting the
server configuration file must be installed and configured and have no configured objects.</li>
<li class="li">It is best practice to take a backup of the <span class="ph">IBM IoT MessageSight</span> production system store to test the upgrade
process before you perform the upgrade process. For instructions for taking a backup of the <span class="ph">IBM IoT MessageSight</span> production system store, see <a class="xref" href="up00019_.html" title="Before you migrate the IBM IoT MessageSight version 1.2 configuration file and store to a running Eclipse Amlen version 1.0 server, it is best practice to take a backup of the production server store and copy it to a test environment to test the upgrade process.">Upgrading to Eclipse Amlen version 1.0: taking a backup of the IBM IoT MessageSight version 1.2 configuration and store</a>.</li>
</ul>
</section>
<section class="section context">
<p class="p"> Only those configuration items from the server such as endpoints, messaging policies, connection policies, LDAP configuration objects, and any configuration objects that are configured by using commands by an administrator are included in the upgrade process that exports and imports the server configuration file only. The server store is not migrated.</p>
<p class="p"></p>
</section>
<section><ol class="ol steps"><li class="li step stepexpand">
<span class="ph cmd">Export the <span class="ph">IBM IoT MessageSight</span> version 1.2 server configuration file to <span class="ph">Eclipse Amlen</span> version <span class="ph">1.0</span>. </span>
<ol type="a" class="ol substeps">
<li class="li substep substepexpand">
<span class="ph cmd">Create a backup copy of the server configuration file by using the <span class="keyword cmdname">imaserver
backup</span> command.</span>
<div class="itemgroup info">For
example:<pre class="pre codeblock"><code>imaserver backup "Password=mybackuppw" "V2Migration=True" 
</code></pre>The <span class="ph">IBM IoT MessageSight</span> server can now back up server configuration
without the need to enter maintenance mode.<p class="p">For information about using the <span class="keyword cmdname">imaserver
backup</span> command, see <a class="xref" href="http://www.ibm.com/support/knowledgecenter/SSCGGQ_1.2.0/com.ibm.ism.doc/Reference/BackupCmd/cmd_imaserver_backup.html" target="_blank" rel="external noopener">imaserver backup command</a></p></div>
</li>
<li class="li substep substepexpand">
<span class="ph cmd">Copy the exported server configuration file to a commonly accessible server. Upload the backup
file to an SSH server for storage by using the <span class="keyword cmdname">file put</span> command.</span>
<div class="itemgroup info">For information about using the <span class="keyword cmdname">file put</span> command, see <a class="xref" href="http://www.ibm.com/support/knowledgecenter/SSCGGQ_1.2.0/com.ibm.ism.doc/Reference/CommonCmd/fun_fileput.html" target="_blank" rel="external noopener">file put command</a>.</div>
</li>
<li class="li substep substepexpand">
<span class="ph cmd">Upload the server configuration file to the <span class="ph">Eclipse Amlen</span> version <span class="ph">1.0</span> server by using the REST API PUT
method.</span>
<div class="itemgroup info">For
example:<pre class="pre codeblock"><code>curl -X PUT -T /path/to/directory/imaBackup.215448-05262016
http://&lt;server&gt;:&lt;port&gt;/ima/v1/file/imaBackup.215448-05262018</code></pre></div>
</li>
</ol>
</li><li class="li step stepexpand">
<span class="ph cmd">Import the server configuration backup file on the <span class="ph">Eclipse Amlen</span> version <span class="ph">1.0</span> server by using the REST API POST
method:</span>
<div class="itemgroup info">
<pre class="pre codeblock"><code>curl -X POST  http://&lt;server&gt;:&lt;port&gt;/ima/v1/service/import -d '{
"FileName":"imaBackup.215448-05262018","Password":"mybackuppw","DisableObjects":true,"ApplyConfig":true|false}'</code></pre>
<p class="p">where:</p>
<div class="p">
<ul class="ul">
<li class="li">
<dl class="dl">

<dt class="dt dlterm">Filename</dt>
<dd class="dd">Specifies the path to a file in the virtual file system inside the server. </dd>
<dd class="dd ddexpand">The argument should match the filename that is used in the URL in step 1c.</dd>

</dl>
</li>
<li class="li">
<dl class="dl">

<dt class="dt dlterm">ApplyConfig: true|false</dt>
<dd class="dd">Specifies whether the imported server configuration is to be applied to the server. By default,
the imported configuration is returned as a response to the REST call for users to verify an
imported configuration.</dd>
<dd class="dd ddexpand">The default is false.</dd>

</dl>
</li>
</ul>
</div>
</div>
<div class="itemgroup stepresult">The server restarts in maintenance mode.</div>
</li><li class="li step stepexpand">
<span class="ph cmd">Review, modify and fix the following migrated configuration:</span>
<div class="itemgroup info"> In particular, review and fix:<ul class="ul">
<li class="li">Endpoint configuration, particularly if your endpoints were listening on specific interfaces. If
such explicit interfaces are different, the upgrade process cannot update the configuration to the
new values. </li>
<li class="li">Existing LDAP configuration which might need to be changed.</li>
<li class="li">Other configuration items that might need to be amended for the new environment.</li>
</ul><p class="p">The configuration changes can be made either by using REST APIs, or by using the WebUI.</p>
</div>
</li></ol></section>
<section class="section postreq">The <span class="ph">Eclipse Amlen</span> version <span class="ph">1.0</span> server is ready for messaging traffic. You
can now switch messaging traffic from <span class="ph">IBM IoT MessageSight</span> to
the <span class="ph">Eclipse Amlen</span> version<span class="ph">1.0</span> server.</section>
</div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../Upgrading/up00015_.html" title="System administrators can upgrade to Eclipse Amlen version 1.0 from IBM IoT MessageSight version 1.2.">Upgrading from IBM IoT MessageSight version 1.2</a></div></div><div class="linklist relconcepts"><strong>Related concepts</strong><br><ul class="linklist"><li class="linklist"><a class="link" href="up00016_.html" title="System administrators can select one of two methods to upgrade IBM IoT MessageSight version 1.2 to Eclipse Amlen version 1.0. Compare the two methods and understand the advantages and disadvantages of each method.">Planning to upgrade to Eclipse Amlen version 1.0 from IBM IoT MessageSight version 1.2</a></li></ul></div><div class="linklist reltasks"><strong>Related tasks</strong><br><ul class="linklist"><li class="linklist"><a class="link" href="up00018_.html" title="System administrators can upgrade their IBM IoT MessageSight version 1.2 systems to an Eclipse Amlen version 1.0 environment by migrating the configuration and store from an IBM IoT MessageSight version 1.2 physical or virtual appliance to a running Eclipse Amlen version 1.0 environment. The upgrade process requires the use of high availability (HA) servers.">Upgrading to Eclipse Amlen version 1.0: server configuration and store</a></li><li class="linklist"><a class="link" href="up00019_.html" title="Before you migrate the IBM IoT MessageSight version 1.2 configuration file and store to a running Eclipse Amlen version 1.0 server, it is best practice to take a backup of the production server store and copy it to a test environment to test the upgrade process.">Upgrading to Eclipse Amlen version 1.0: taking a backup of the IBM IoT MessageSight version 1.2 configuration and store</a></li></ul></div></nav>
</article></main></body></html>